<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        
        <menuitem id="menu_edu_root" icon="terp-hr" name="Education" sequence="20"/>
        <menuitem id="menu_edu_partners" name="Partners" parent="menu_edu_root" sequence="20"/>
        <menuitem id="menu_edu_entrance" name="Entrance" parent="menu_edu_root" sequence="30"/>
        <menuitem id="menu_edu_training" name="Training" parent="menu_edu_root" sequence="40"/>
        <menuitem id="menu_edu_programs" name="Programs" parent="menu_edu_root" sequence="10"/>
        <menuitem id="menu_edu_configuration" name="Configuration" parent="menu_edu_root"
            sequence="50" groups="group_edu_manager"/>
        <menuitem id="menu_edu_configuration_admissions" name="Admissions" parent="menu_edu_configuration"
            sequence="10"/>
        <menuitem id="menu_edu_configuration_training" name="Training" parent="menu_edu_configuration"
            sequence="20"/>
        <menuitem id="menu_edu_configuration_program" name="Programs" parent="menu_edu_configuration"
            sequence="30"/>
        <menuitem id="menu_edu_configuration_grade" name="Grade" parent="menu_edu_configuration"
            sequence="40"/>
        <menuitem id="menu_edu_report" name="Education" groups="group_edu_manager" parent="base.menu_reporting"
            sequence="25"/>
        
        <!-- Views for Specialities -->
        
        <record id="view_edu_speciality_tree" model="ir.ui.view">
            <field name="name">edu.speciality.tree</field>
            <field name="model">edu.speciality</field>
            <field name="arch" type="xml">
                <tree string="Specialities">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="qualification_id"/>
                    <field name="rank"/>
                    <field name="licensed"/>
                    <field name="accredited"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_speciality_form" model="ir.ui.view">
            <field name="name">edu.speciality.form</field>
            <field name="model">edu.speciality</field>
            <field name="arch" type="xml">
                <form string="Speciality" version="7.0">
                    <sheet>
                        <label for="code" class="oe_edit_only"/>
                        <h1>
                            <field name="code"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <field name="qualification_id"/>
                            <field name="rank"/>
                            <field name="licensed"/>
                            <field name="accredited"/>
                        </group>
                        <notebook>
                            <page string="Characterization">
                                <field name="description"/>
                            </page>
                            <page string="Competences">
                                <field name="competence_ids">
                                    <form string="Competence" version="7.0">
                                        <group>
                                            <field name="name"/>
                                            <field name="description"/>
                                        </group>
                                    </form>
                                    <tree string="Competences">
                                        <field name="name"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Education Programs">
                                <field name="programs" readonly="1">
                                    <tree string="Education Programs">
                                        <field name="code"/>
                                        <field name="name"/>
                                        <field name="mode_id"/>
                                        <field name="rprog"/>
                                        <field name="eprog"/>
                                        <field name="elearning"/>
                                        <field name="date_approved"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="action_edu_speciality" model="ir.actions.act_window">
            <field name="name">Specialities</field>
            <field name="res_model">edu.speciality</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_speciality" action = "action_edu_speciality" sequence="1" parent="menu_edu_configuration_program"/>
        
        <!-- Views for Qualifications -->
        
        <record id="view_edu_qualification_tree" model="ir.ui.view">
            <field name="name">edu.qualification.tree</field>
            <field name="model">edu.qualification</field>
            <field name="arch" type="xml">
                <tree string="Qualifications" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_qualification_form" model="ir.ui.view">
            <field name="name">edu.qualification.form</field>
            <field name="model">edu.qualification</field>
            <field name="arch" type="xml">
                <form string="Qualification" version="7.0">
                    <sheet>
                        <group>
                            <field name="code"/>
                            <field name="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="action_edu_qualification" model="ir.actions.act_window">
            <field name="name">Qualifications</field>
            <field name="res_model">edu.qualification</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_qualification" action = "action_edu_qualification" sequence="2"
            parent="menu_edu_configuration_program"/>
        
        <!-- Views for Modes of Study -->
        
        <record id="view_edu_mode_tree" model="ir.ui.view">
            <field name="name">edu.mode.tree</field>
            <field name="model">edu.mode</field>
            <field name="arch" type="xml">
                <tree string="Modes of Study" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_mode" model="ir.actions.act_window">
            <field name="name">Modes of Study</field>
            <field name="res_model">edu.mode</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_mode" action = "action_edu_mode" sequence="3" parent="menu_edu_configuration_program"/>
        
        <!-- Views for Program Sections -->
        
        <record id="view_edu_program_section_tree" model="ir.ui.view">
            <field name="name">edu.program.section.tree</field>
            <field name="model">edu.program.section</field>
            <field name="arch" type="xml">
                <tree string="Program Sections" version="7.0" editable="bottom">
                    <field name="sequence" widget="handle"/>
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_program_section" model="ir.actions.act_window">
            <field name="name">Program Sections</field>
            <field name="res_model">edu.program.section</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_program_section" action = "action_edu_program_section" sequence="4"
            parent="menu_edu_configuration_program"/>
        
        <!-- Views for Program Subsections -->
        
        <record id="view_edu_program_subsection_tree" model="ir.ui.view">
            <field name="name">edu.program.subsection.tree</field>
            <field name="model">edu.program.subsection</field>
            <field name="arch" type="xml">
                <tree string="Program Subsections" version="7.0" editable="bottom">
                    <field name="sequence" widget="handle"/>
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_program_subsection" model="ir.actions.act_window">
            <field name="name">Program Subsections</field>
            <field name="res_model">edu.program.subsection</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_program_subsection" action = "action_edu_program_subsection"
            sequence="5" parent="menu_edu_configuration_program"/>
        
        <!-- Views for Competences -->
        
        <record id="view_edu_competence_tree" model="ir.ui.view">
            <field name="name">edu.competence.tree</field>
            <field name="model">edu.competence</field>
            <field name="arch" type="xml">
                <tree string="Competences">
                    <field name="speciality"/>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="modules"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_competence_form" model="ir.ui.view">
            <field name="name">edu.competence.form</field>
            <field name="model">edu.competence</field>
            <field name="arch" type="xml">
                <form string="Competence" version="7.0">
                    <label for="code" class="oe_edit_only"/>
                    <h1>
                        <field name="code" readonly="1"/>
                    </h1>
                    <label for="name" class="oe_edit_only"/>
                    <h2>
                        <field name="name"/>
                    </h2>
                    <group>
                        <field name="speciality"/>
                        <field name="description"/>
                    </group>
                    <notebook>
                        <page string="Modules">
                            <field name="modules"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        
        <record id="action_edu_competence" model="ir.actions.act_window">
            <field name="name">Competences</field>
            <field name="res_model">edu.competence</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_competence" action = "action_edu_competence" sequence="3" parent="menu_edu_configuration_program"/>
        
        <!-- Views for Statements -->
        
        <record id="view_edu_statement_tree" model="ir.ui.view">
            <field name="name">edu.statement.tree</field>
            <field name="model">edu.statement</field>
            <field name="arch" type="xml">
                <tree string="Academic Statements">
                    <field name="name"/>
                    <field name="type"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_statement_form" model="ir.ui.view">
            <field name="name">edu.statement.form</field>
            <field name="model">edu.statement</field>
            <field name="arch" type="xml">
                <form string="Academic Statement" version="7.0">
                    <group>
                        <field name="name"/>
                        <field name="type"/>
                        <field name="app_intro_text"/>
                        <field name="app_main_text"/>
                        <field name="app_final_text"/>
                        <field name="order_intro_text"/>
                        <field name="order_main_text"/>
                        <field name="order_final_text"/>
                    </group>
                </form>
            </field>
        </record>
        
        <record id="action_edu_statement" model="ir.actions.act_window">
            <field name="name">Statements</field>
            <field name="res_model">edu.statement</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_statement" action = "action_edu_statement" sequence="4" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Stages -->
        
        <record id="view_edu_stage_tree" model="ir.ui.view">
            <field name="name">edu.stage.tree</field>
            <field name="model">edu.stage</field>
            <field name="arch" type="xml">
                <tree string="Stages">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="description"/>
                    <field name="case_default"/>
                    <field name="fold"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_stage_form" model="ir.ui.view">
            <field name="name">edu.stage.form</field>
            <field name="model">edu.stage</field>
            <field name="arch" type="xml">
                <form string="Stage" version="7.0">
                    <group>
                        <field name="sequence"/>
                        <field name="name"/>
                        <field name="case_default"/>
                        <field name="fold"/>
                        <field name="state"/>
                        <field name="description"/>
                    </group>
                </form>
            </field>
        </record>
        
        <record id="action_edu_stage" model="ir.actions.act_window">
            <field name="name">Stages</field>
            <field name="res_model">edu.stage</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_stage" action = "action_edu_stage" sequence="3" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Periods -->
        
        <record id="view_edu_period_tree" model="ir.ui.view">
            <field name="name">edu.period.tree</field>
            <field name="model">edu.period</field>
            <field name="arch" type="xml">
                <tree string="Periods" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="stage_id"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_period" model="ir.actions.act_window">
            <field name="name">Periods</field>
            <field name="res_model">edu.period</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_period" action = "action_edu_period" sequence="3" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Time Categories -->
        
        <record id="view_edu_time_category_tree" model="ir.ui.view">
            <field name="name">edu.time.category.tree</field>
            <field name="model">edu.time.category</field>
            <field name="arch" type="xml">
                <tree string="Time Categories" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_time_category" model="ir.actions.act_window">
            <field name="name">Time Categories</field>
            <field name="res_model">edu.time.category</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_time_category" action = "action_edu_time_category" sequence="3"
            parent="menu_edu_configuration_training"/>
        
        <!-- Views for Time -->
        
        <record id="view_edu_time_tree" model="ir.ui.view">
            <field name="name">edu.time.tree</field>
            <field name="model">edu.time</field>
            <field name="arch" type="xml">
                <tree string="Time" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="sequence" widget="handle"/>
                    <field name="code" invisible="1"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="period"/>
                    <field name="category_id"/>
                    <field name="weeks" sum="Weeks"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_time_form" model="ir.ui.view">
            <field name="name">edu.time.form</field>
            <field name="model">edu.time</field>
            <field name="arch" type="xml">
                <form string="Time" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <label for="code" class="oe_edit_only"/>
                        <h1>
                            <field name="code"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <field name="short_name"/>
                            <field name="category_id"/>
                            <field name="period"/>
                            <field name="weeks"/>
                            <field name="sequence"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_time_filter" model="ir.ui.view">
            <field name="name">edu.time.filter</field>
            <field name="model">edu.time</field>
            <field name="arch" type="xml">
                <search string="Training Time">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="stage_id"/>
                    <field name="period"/>
                    <field name="category_id"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_program" string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_stage_id" string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter name="gr_period" string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter name="gr_category_id" string="Category" domain="[]" context="{'group_by' :
                            'category_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!--<record id="action_edu_time" model="ir.actions.act_window"> <field name="name">Training
            Time</field> <field name="res_model">edu.time</field> <field name="view_type">form</field>
            <field name="view_mode">tree,form</field> <field name="search_view_id"
            ref="view_edu_time_filter"/> </record> <menuitem id="menu_edu_time" action="action_edu_time"
            sequence="3" parent="menu_edu_programs"/>-->
        
        <!-- Views for Module Task -->
        
        <record id="view_edu_module_task_tree" model="ir.ui.view">
            <field name="name">edu.module.task.tree</field>
            <field name="model">edu.module.task</field>
            <field name="arch" type="xml">
                <tree string="Module Tasks" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="module"/>
                    <field name="seance"/>
                    <field name="type"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_task_form" model="ir.ui.view">
            <field name="name">edu.module.task.form</field>
            <field name="model">edu.module.task</field>
            <field name="arch" type="xml">
                <form string="Module Task" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group>
                            <field name="module"/>
                            <field name="work"/>
                            <field name="seance" domain="[('module','=',module)]" on_change="onchange_seance(seance)"/>
                            <field name="type"/>
                            <field name="sequence"/>
                        </group>
                        <notebook>
                            <page string="Text">
                                <field name="description" widget="html"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_module_task_filter" model="ir.ui.view">
            <field name="name">edu.module.task.filter</field>
            <field name="model">edu.module.task</field>
            <field name="arch" type="xml">
                <search string="Module Tasks">
                    <field name="module"/>
                    <field name="seance"/>
                    <field name="type"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Seance" domain="[]" context="{'group_by' : 'seance'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- Views for Module Seance -->
        
        <record id="action_active_seance_task" model="ir.actions.act_window">
            <field name="name">Tasks By Seance</field>
            <field name="res_model">edu.module.task</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_seance': active_id,'group_by': False}</field>
            <field name="domain">[('seance','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_task_filter"/>
        </record>
        
        <record id="view_edu_module_seance_tree" model="ir.ui.view">
            <field name="name">edu.module.seance.tree</field>
            <field name="model">edu.module.seance</field>
            <field name="arch" type="xml">
                <tree string="Module Seances" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="work"/>
                    <field name="module"/>
                    <field name="period"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="emp_hours" sum="Employee Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_seance_form" model="ir.ui.view">
            <field name="name">edu.module.seance.form</field>
            <field name="model">edu.module.seance</field>
            <field name="arch" type="xml">
                <form string="Module Seance" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_seance_task)d" string="Tasks" type="action"/>
                        </div>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group>
                            <group>
                                <field name="module"/>
                                <field name="work" domain="[('module','=',module)]" on_change="onchange_work(work)"/>
                                <field name="employee"/>
                                <field name="location_id"/>
                                <field name="sequence"/>
                                <field name="type"/>
                                <field name="time"/>
                                <field name="period"/>
                                <field name="scale"/>
                            </group>
                            <group>
                                <field name="st_hours"/>
                                <field name="seance_hours" on_change="onchange_seance_hours(ind_work,seance_hours)"/>
                                <field name="emp_hours"/>
                                <field name="ind_work"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Description">
                                <field name="description" widget="html"/>
                            </page>
                            <page string="Sections">
                                <field name="sections" domain="[('module','=',module)]">
                                    <tree string="Sections">
                                        <field name="sequence" widget="handle"/>
                                        <field name="name"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Tasks">
                                <field name="task_ids">
                                    <tree string="Tasks">
                                        <field name="sequence" widget="handle"/>
                                        <field name="name"/>
                                        <field name="type"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_module_seance_filter" model="ir.ui.view">
            <field name="name">edu.module.seance.filter</field>
            <field name="model">edu.module.seance</field>
            <field name="arch" type="xml">
                <search string="Module Seances">
                    <field name="work"/>
                    <field name="type"/>
                    <group expand="1" string="Group By...">
                        <filter string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter string="Work Type" domain="[]" context="{'group_by' : 'type'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- <record id="action_edu_module_seance" model="ir.actions.act_window"> <field name="name">Module
            Seances</field> <field name="res_model">edu.module.seance</field> <field
            name="view_mode">tree,form</field> </record> <menuitem id="menu_edu_module_seance"
            action = "action_edu_module_seance" sequence="3" parent="menu_edu_programs"/>
            -->
        
        <!-- Views for Module Work -->
        
        <record id="action_active_module_work_seance" model="ir.actions.act_window">
            <field name="name">Seances By Work</field>
            <field name="res_model">edu.module.seance</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_work': active_id,'group_by': False}</field>
            <field name="domain">[('work','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_seance_filter"/>
        </record>
        
        <record id="view_edu_module_work_tree" model="ir.ui.view">
            <field name="name">edu.module.work.tree</field>
            <field name="model">edu.module.work</field>
            <field name="priority" eval="10" />
            <field name="arch" type="xml">
                <tree string="Module Work" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="program"/>
                    <field name="module"/>
                    <field name="period"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="scale" invisible="1"/>
                    <field name="employee"/>
                    <field name="location_id" invisible="1"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="emp_hours" sum="Employee Hours"/>
                    <field name="ind_work"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_report_edu_module_work_tree" model="ir.ui.view">
            <field name="name">report.edu.module.work.tree</field>
            <field name="model">edu.module.work</field>
            <field name="priority" eval="9999" />
            <field name="arch" type="xml">
                <tree string="Module Work" create="false" edit="false" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="program"/>
                    <field name="module"/>
                    <field name="period"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="scale" invisible="1"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="emp_hours" sum="Employee Hours"/>
                    <field name="ind_work"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_work_form" model="ir.ui.view">
            <field name="name">edu.module.work.form</field>
            <field name="model">edu.module.work</field>
            <field name="priority" eval="10" />
            <field name="arch" type="xml">
                <form string="Module Work" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_module_work_seance)d" string="Seances By Work" type="action"/>
                        </div>
                        <div class="oe_title">
                            <label for="code" class="oe_edit_only"/>
                            <h2>
                                <field name="code"/>
                            </h2>
                        </div>
                        <group>
                            <field name="program"/>
                            <field name="module" readonly="1" on_change="onchange_module(module)"/>
                            <field name="time" domain="[('program','=',program)]" on_change="onchange_time(time)"/>
                            <field name="type" on_change="onchange_type(type)"/>
                            <field name="scale"/>
                            <field name="period"/>
                            <field name="employee"/>
                            <field name="location_id"/>
                        </group>
                        <group>
                            <group>
                                <field name="st_hours"/>
                                <field name="seance_hours" on_change="onchange_seance_hours(ind_work,seance_hours)"/>
                                <field name="emp_hours"/>
                                <field name="ind_work"/>
                            </group>
                            <group>
                                <field name="eff_st_hours"/>
                                <field name="eff_seance_hours"/>
                                <field name="eff_emp_hours"/>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_report_edu_module_work_form" model="ir.ui.view">
            <field name="name">edu.module.work.form</field>
            <field name="model">edu.module.work</field>
            <field name="priority" eval="9999" />
            <field name="arch" type="xml">
                <form string="Module Work" create="false" edit="false" version="7.0">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_module_work_seance)d" string="Seances By Work" type="action"/>
                        </div>
                        <div class="oe_title">
                            <label for="code" class="oe_edit_only"/>
                            <h2>
                                <field name="code"/>
                            </h2>
                        </div>
                        <group>
                            <field name="program"/>
                            <field name="module" readonly="1" on_change="onchange_module(module)"/>
                            <field name="time" domain="[('program','=',program)]" on_change="onchange_time(time)"/>
                            <field name="type" on_change="onchange_type(type)"/>
                            <field name="scale"/>
                            <field name="period"/>
                            <field name="employee"/>
                            <field name="location_id"/>
                        </group>
                        <group>
                            <group>
                                <field name="st_hours"/>
                                <field name="seance_hours" on_change="onchange_seance_hours(ind_work,seance_hours)"/>
                                <field name="emp_hours"/>
                                <field name="ind_work"/>
                            </group>
                            <group>
                                <field name="eff_st_hours"/>
                                <field name="eff_seance_hours"/>
                                <field name="eff_emp_hours"/>
                            </group>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_module_work_filter" model="ir.ui.view">
            <field name="name">edu.module.work.filter</field>
            <field name="model">edu.module.work</field>
            <field name="arch" type="xml">
                <search string="Module Work">
                    <field name="code"/>
                    <field name="program"/>
                    <field name="module"/>
                    <field name="period"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="scale"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="ind_work"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_period" string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter name="gr_time" string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter name="gr_module" string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Work Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                        <filter string="Location" domain="[]" context="{'group_by' : 'location_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        
        <record id="action_edu_module_work" model="ir.actions.act_window">
            <field name="name">Module Work</field>
            <field name="res_model">edu.module.work</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <record id="action_edu_module_work_tree" model="ir.actions.act_window.view">
            <field name="sequence"  eval="0"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_report_edu_module_work_tree"/>
            <field name="act_window_id" ref="action_edu_module_work"/>
        </record>
        
        <record id="action_edu_module_work_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_report_edu_module_work_form"/>
            <field name="act_window_id" ref="action_edu_module_work"/>
        </record>
        
        <menuitem id="menu_edu_module_work" action = "action_edu_module_work" sequence="3"
            parent="menu_edu_report"/>
        
        <!-- Views for Module Section -->
        
        <record id="view_edu_module_section_tree" model="ir.ui.view">
            <field name="name">edu.module.section.tree</field>
            <field name="model">edu.module.section</field>
            <field name="arch" type="xml">
                <tree string="Module Sections" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="module"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_section_form" model="ir.ui.view">
            <field name="name">edu.module.section.form</field>
            <field name="model">edu.module.section</field>
            <field name="arch" type="xml">
                <form string="Module Section" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group>
                            <field name="module" invisible="1"/>
                            <field name="sequence"/>
                        </group>
                        <notebook>
                            <page string="Text">
                                <field name="description" widget="html"/>
                            </page>
                            <page string="Seances">
                                <field name="seances" readonly="1">
                                    <tree>
                                        <field name="sequence" widget="handle"/>
                                        <field name="name"/>
                                        <field name="type"/>
                                        <field name="time"/>
                                        <field name="employee"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_module_section_filter" model="ir.ui.view">
            <field name="name">edu.module.section.filter</field>
            <field name="model">edu.module.section</field>
            <field name="arch" type="xml">
                <search string="Module Sections">
                    <field name="name"/>
                    <field name="module"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- Views for Module Record -->
        
        <record id="view_edu_module_record_tree" model="ir.ui.view">
            <field name="name">edu.module.record.tree</field>
            <field name="model">edu.module.record</field>
            <field name="arch" type="xml">
                <tree string="Module Records" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="name"/>
                    <field name="module"/>
                    <field name="journal_id"/>
                    <field name="journaltype"/>
                    <field name="recordtype"/>
                    <field name="scale"/>
                    <field name="credits"/>
                    <field name="st_hours"/>
                    <field name="seance_hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_record_form" model="ir.ui.view">
            <field name="name">edu.module.record.form</field>
            <field name="model">edu.module.record</field>
            <field name="arch" type="xml">
                <form string="Module Record" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group>
                            <field name="module" invisible="1" on_change="onchange_module(module)"/>
                            <field name="journal_id" on_change="onchange_journal_id(journal_id)"/>
                            <field name="journaltype"/>
                            <field name="recordtype"/>
                            <field name="scale"/>
                            <field name="credits"/>
                            <field name="st_hours"/>
                            <field name="seance_hours"/>
                        </group>
                        <notebook>
                            <page string="Module Work">
                                <field name="works" domain="[('module','=',module)]">
                                    <tree string="Module Work">
                                        <field name="time"/>
                                        <field name="type"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_module_record_filter" model="ir.ui.view">
            <field name="name">edu.module.record.filter</field>
            <field name="model">edu.module.record</field>
            <field name="arch" type="xml">
                <search string="Module Records">
                    <field name="name"/>
                    <field name="module"/>
                    <field name="journal_id"/>
                    <field name="scale"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Journal" domain="[]" context="{'group_by' : 'journal_id'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- Views for Modules -->
        
        <record id="view_edu_module_filter" model="ir.ui.view">
            <field name="name">edu.module.filter</field>
            <field name="model">edu.module</field>
            <field name="arch" type="xml">
                <search string="Modules">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="program"/>
                    <field name="section"/>
                    <field name="subsection"/>
                    <field name="parent_id"/>
                    <field name="employee"/>
                    <field name="state"/>
                    <filter string="Main Module" name="parentmodule" domain="[('parent_id','=',False)]"/>
                    <filter string="Elective Module" name="electivemodule" domain="[('parent_id','!=',False)]"/>
                    <filter string="Normal Module" name="normalmodule" domain="[('child_ids','=',False)]"/>
                    <filter name="my_modules" string="My Modules" domain="[('employee.user_id','=',uid)]"
                        icon="terp-personal"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_program" string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_section" string="Section" domain="[]" context="{'group_by' : 'section'}"/>
                        <filter name="gr_subsection" string="Subsection" domain="[]" context="{'group_by'
                            : 'subsection'}"/>
                        <filter string="Parent Module" domain="[]" context="{'group_by' : 'parent_id'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_active_module_children" model="ir.actions.act_window">
            <field name="name">Child Modules</field>
            <field name="res_model">edu.module</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_parent_id': active_id,'group_by': False}</field>
            <field name="domain">[('parent_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_filter"/>
        </record>
        
        <record id="action_active_module_work" model="ir.actions.act_window">
            <field name="name">Work By Module</field>
            <field name="res_model">edu.module.work</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'default_module': active_id, 'group_by': False, 'search_default_gr_period':1,
                }
            </field>
            <field name="domain">[('module','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_work_filter"/>
        </record>
        
        <record id="action_active_module_record" model="ir.actions.act_window">
            <field name="name">Records By Module</field>
            <field name="res_model">edu.module.record</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_module': active_id,'group_by': False}</field>
            <field name="domain">[('module','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_record_filter"/>
        </record>
        
        <record id="action_active_module_section" model="ir.actions.act_window">
            <field name="name">Sections By Module</field>
            <field name="res_model">edu.module.section</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_module': active_id,'group_by': False}</field>
            <field name="domain">[('module','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_section_filter"/>
        </record>
        
        <record id="action_active_module_seance" model="ir.actions.act_window">
            <field name="name">Seances By Module</field>
            <field name="res_model">edu.module.seance</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_module': active_id,'group_by': False}</field>
            <field name="domain">[('module','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_seance_filter"/>
        </record>
        
        <record id="action_active_module_task" model="ir.actions.act_window">
            <field name="name">Tasks By Module</field>
            <field name="res_model">edu.module.task</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_module': active_id,'group_by': False}</field>
            <field name="domain">[('module','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_task_filter"/>
        </record>
        
        <record id="view_edu_module_tree" model="ir.ui.view">
            <field name="name">edu.module.tree</field>
            <field name="model">edu.module</field>
            <field name="arch" type="xml">
                <tree string="Modules" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="section"/>
                    <field name="subsection"/>
                    <field name="parent_id"/>
                    <field name="employee"/>
                    <field name="location_id" invisible="1"/>
                    <field name="credits" sum="Credits"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_module_form" model="ir.ui.view">
            <field name="name">edu.module.form</field>
            <field name="model">edu.module</field>
            <field name="arch" type="xml">
                <form string="Training Module" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_case_default" string="Set Default" type="object" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector" attrs="{'invisible':
                            [('case_default', '=', True)]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_module_work)d" string="Work By Module" type="action"/>
                            <button name="%(action_active_module_record)d" string="Records By Module" type="action"/>
                            <button name="%(action_active_module_section)d" string="Sections By Module" type="action"/>
                            <button name="%(action_active_module_seance)d" string="Seances By Module" type="action"/>
                            <button name="%(action_active_module_task)d" string="Tasks By Module" type="action"/>
                            <button name="%(action_active_module_children)d" string="Child Modules" type="action"/>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <label string="Module: "/>
                                <field name="code" class="oe_inline" readonly="1"/>
                            </h1>
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group>
                            <field name="program"/>
                            <field name="section"/>
                            <field name="subsection"/>
                            <field name="employee"/>
                            <field name="location_id"/>
                            <field name="parent_id" domain="[('program','=',program)]" on_change="onchange_parent_id(parent_id)"/>
                            <field name="replace_method"/>
                            <field name="case_default" readonly="1"/>
                        </group>
                        <group string="Training Work">
                            <group>
                                <field name="credits"/>
                                <field name="st_hours"/>
                                <field name="seance_hours"/>
                            </group>
                            <group>
                                <field name="eff_credits"/>
                                <field name="eff_st_hours"/>
                                <field name="eff_seance_hours"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Main Features">
                                <notebook>
                                    <page string="Characterization">
                                        <field name="description"/>
                                    </page>
                                    <page string="Competences">
                                        <field name="competence_ids" domain="[('programs','=',program)]">
                                            <tree string="Competences">
                                                <field name="code"/>
                                                <field name="description"/>
                                            </tree>
                                        </field>
                                    </page>
                                    <page string="Prior Modules">
                                        <field name="prior_ids"/>
                                    </page>
                                    <page string="Posterior Modules">
                                        <field name="posterior_ids"/>
                                    </page>
                                    <page string="Child Modules">
                                        <field name="child_ids" readonly="1"/>
                                    </page>
                                </notebook>
                            </page>
                            <page string="Module Program">
                                <notebook>
                                    <page string="Training Work">
                                        <field name="works" context="{'default_module': active_id}" readonly="1">
                                            <tree string="Module Work">
                                                <field name="time"/>
                                                <field name="type"/>
                                                <field name="st_hours" sum="Student Hours"/>
                                                <field name="seance_hours" sum="Seance Hours"/>
                                                <field name="state"/>
                                            </tree>
                                        </field>
                                    </page>
                                    <page string="Products">
                                        <field name="product_ids"/>
                                    </page>
                                    <!-- <page string="Records"> <field name="record_ids" context="{'default_module':
                                        active_id}" readonly="1"> <tree string="Records">
                                        <field name="name"/> <field name="journal_id"/>
                                        <field name="scale"/> <field name="credits"
                                        sum="Credits"/> <field name="st_hours" sum="Student
                                        Hours"/> <field name="seance_hours" sum="Seance
                                        Hours"/> <field name="state"/> </tree> </field>
                                        </page> <page string="Sections"> <field name="sections"
                                        context="{'default_module': active_id}">
                                        <tree string="Sections"> <field name="sequence"
                                        widget="handle"/> <field name="name"/> <field
                                        name="state"/> </tree> </field> </page> <page
                                        string="Seances"> <field name="seances"
                                        readonly="1" context="{'default_module':
                                        active_id,'default_employee':employee,'default_location_id':location_id}">
                                        <tree string="Seances"> <field name="sequence"
                                        widget="handle"/> <field name="name"/> <field
                                        name="work"/> <field name="type"/> <field
                                        name="st_hours" sum="Student Hours"/> <field
                                        name="seance_hours" sum="Seance Hours"/> <field
                                        name="state"/> </tree> </field> </page> <page
                                        string="Tasks"> <field name="task_ids" readonly="1"
                                        context="{'default_module': active_id}">
                                        <tree string="Tasks"> <field name="sequence"
                                        widget="handle"/> <field name="name"/> <field
                                        name="seance"/> <field name="type"/> <field
                                        name="state"/> </tree> </field> </page> -->
                                </notebook>
                            </page>
                            <page string="Plans">
                                <field name="plan_ids" domain="[('program','=',program),('state','=','draft')]"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="action_edu_module" model="ir.actions.act_window">
            <field name="name">Modules</field>
            <field name="res_model">edu.module</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                {'search_default_gr_program':1,'search_default_gr_section':1,'search_default_gr_subsection':1}
            </field>
            <field name="search_view_id" ref="view_edu_module_filter"/>
        </record>
        
        <menuitem id="menu_edu_module" action="action_edu_module" sequence="3" parent="menu_edu_programs"/>
        
        <record id="action_edu_module_my" model="ir.actions.act_window">
            <field name="name">My Modules</field>
            <field name="res_model">edu.module</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('employee.user_id','=',uid)]</field>
            <field name="context">{'search_default_gr_program':1}</field>
            <field name="search_view_id" ref="view_edu_module_filter"/>
        </record>
        
        <menuitem id="menu_edu_module_my" action="action_edu_module_my" sequence="4" parent="menu_edu_programs"
            groups="group_edu_teacher"/>
        
        <!-- Views for Groups -->
        
        <record id="view_edu_group_tree" model="ir.ui.view">
            <field name="name">edu.group.tree</field>
            <field name="model">edu.group</field>
            <field name="arch" type="xml">
                <tree string="Groups">
                    <field name="name"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_group_form" model="ir.ui.view">
            <field name="name">edu.group.form</field>
            <field name="model">edu.group</field>
            <field name="arch" type="xml">
                <form string="Group" version="7.0">
                    <sheet>
                        <group>
                            <field name="name"/>
                            <field name="description"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="action_edu_group" model="ir.actions.act_window">
            <field name="name">Groups</field>
            <field name="res_model">edu.group</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_edu_group" action = "action_edu_group" sequence="10" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Programs -->
        
        <record id="action_program_time" model="ir.actions.act_window">
            <field name="name">Program Training Time</field>
            <field name="res_model">edu.time</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'default_program': active_id, 'group_by': False, 'search_default_gr_stage_id':1,
                'search_default_gr_period':1 }
            </field>
            <field name="domain">[('program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_time_filter"/>
        </record>
        
        <record id="action_program_module" model="ir.actions.act_window">
            <field name="name">Program Modules</field>
            <field name="res_model">edu.module</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'default_program': active_id, 'group_by': False, 'search_default_gr_section':1,
                'search_default_gr_subsection':1 }
            </field>
            <field name="domain">[('program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_filter"/>
        </record>
        
        <record id="view_edu_program_tree" model="ir.ui.view">
            <field name="name">edu.program.tree</field>
            <field name="model">edu.program</field>
            <field name="arch" type="xml">
                <tree string="Programs" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="short_name"/>
                    <field name="name"/>
                    <field name="speciality"/>
                    <field name="department_id"/>
                    <field name="mode_id"/>
                    <field name="rprog"/>
                    <field name="eprog"/>
                    <field name="elearning"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_program_form" model="ir.ui.view">
            <field name="name">edu.program.form</field>
            <field name="model">edu.program</field>
            <field name="arch" type="xml">
                <form string="Program" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,canceled"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_program_time)d" string="Training Time" type="action"/>
                            <button name="%(action_program_module)d" string="Modules" type="action"/>
                        </div>
                        <h1>
                            <label string="Education Program: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <label string="["/>
                            <field name="short_name" class="oe_inline" placeholder="Short Title..."/>
                            <label string="] " class="oe_inline"/>
                            <field name="name" class="oe_inline" placeholder="Full Title..."/>
                        </h2>
                        <group>
                            <field name="speciality" on_change="onchange_speciality(speciality)"/>
                            <field name="department_id"/>
                        </group>
                        <group string="Training Regime">
                            <group>
                                <field name="mode_id"/>
                                <field name="elearning"/>
                            </group>
                            <group>
                                <field name="eprog"/>
                                <field name="rprog"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Training Time">
                                <field name="times">
                                    <tree string="Time">
                                        <field name="sequence" widget="handle"/>
                                        <field name="code"/>
                                        <field name="name"/>
                                        <field name="category_id"/>
                                        <field name="period"/>
                                        <field name="weeks" sum="Weeks"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Main Modules">
                                <field name="mainmodules">
                                    <tree string="Main Modules">
                                        <field name="section"/>
                                        <field name="subsection"/>
                                        <field name="name"/>
                                        <field name="credits" sum="Credits"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Elective Modules">
                                <field name="electivemodules">
                                    <tree string="Elective Modules">
                                        <field name="section"/>
                                        <field name="subsection"/>
                                        <field name="name"/>
                                        <field name="parent_id"/>
                                        <field name="credits" sum="Credits"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Stages">
                                <field name="stage_ids">
                                    <tree>
                                        <field name="name"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Characterization">
                                <field name="description"/>
                            </page>
                            <page string="Competences">
                                <field name="competence_ids" domain="[('speciality','=',speciality)]">
                                    <tree string="Competences">
                                        <field name="code"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_program_filter" model="ir.ui.view">
            <field name="name">edu.program.filter</field>
            <field name="model">edu.program</field>
            <field name="arch" type="xml">
                <search string="Programs">
                    <field name="name"/>
                    <field name="short_name"/>
                    <field name="code"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="state"/>
                    <filter string="Reduced" domain="[('rprog','=',True)]"/>
                    <filter string="Express" domain="[('eprog','=',True)]"/>
                    <filter string="E-Learning" domain="[('elearning','=',True)]"/>
                    <group expand="1" string="Group By...">
                        <filter string="Speciality" domain="[]" context="{'group_by' : 'speciality'}"/>
                        <filter string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_program" model="ir.actions.act_window">
            <field name="name">Programs</field>
            <field name="res_model">edu.program</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_program_filter"/>
        </record>
        
        <menuitem id="menu_edu_program" action = "action_edu_program" sequence="1" parent="menu_edu_programs"/>
        
        <!-- Views for Plans -->
        
        <record id="action_active_plan_module" model="ir.actions.act_window">
            <field name="name">Modules By Plan</field>
            <field name="res_model">edu.module</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'group_by': False, 'search_default_gr_section':1, 'search_default_gr_subsection':1,
                'search_default_gr_state':0 }
            </field>
            <field name="domain">[('plan_ids','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_filter"/>
        </record>
        
        <record id="action_active_plan_work" model="ir.actions.act_window">
            <field name="name">Work By Plan</field>
            <field name="res_model">edu.module.work</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'group_by': False, 'search_default_gr_period':1, 'search_default_gr_module':1
                }
            </field>
            <field name="domain">[('module.plan_ids','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_module_work_filter"/>
        </record>
        
        <record id="view_edu_plan_tree" model="ir.ui.view">
            <field name="name">edu.plan.tree</field>
            <field name="model">edu.plan</field>
            <field name="arch" type="xml">
                <tree string="Plans" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_plan_form" model="ir.ui.view">
            <field name="name">edu.plan.form</field>
            <field name="model">edu.plan</field>
            <field name="arch" type="xml">
                <form string="Plan" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_plan_module)d" string="Modules By Plan" type="action"/>
                            <button name="%(action_active_plan_work)d" string="Work By Plan" type="action"/>
                        </div>
                        <h1>
                            <label string="Training Plan: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <field name="program"/>
                            <field name="speciality"/>
                            <field name="mode_id"/>
                        </group>
                        <notebook>
                            <page string="Modules">
                                <field name="modules" domain="[('program','=',program)]">
                                    <tree string="Modules">
                                        <field name="section"/>
                                        <field name="subsection"/>
                                        <field name="name"/>
                                        <field name="parent_id"/>
                                        <field name="credits" sum="Credits"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_plan_filter" model="ir.ui.view">
            <field name="name">edu.plan.filter</field>
            <field name="model">edu.plan</field>
            <field name="arch" type="xml">
                <search string="Plans">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Speciality" domain="[]" context="{'group_by' : 'speciality'}"/>
                        <filter string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_plan" model="ir.actions.act_window">
            <field name="name">Plans</field>
            <field name="res_model">edu.plan</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_plan_filter"/>
        </record>
        
        <menuitem id="menu_edu_plan" action="action_edu_plan" sequence="2" parent="menu_edu_programs"/>
        
        <!-- Views for Scales -->
        
        <record id="view_edu_scale_tree" model="ir.ui.view">
            <field name="name">edu.scale.tree</field>
            <field name="model">edu.scale</field>
            <field name="arch" type="xml" >
                <tree string="Scales" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>
        
        <!--<record id="view_edu_scale_form" model="ir.ui.view"> <field name="name">edu.scale.form</field>
            <field name="model">edu.scale</field> <field name="arch" type="xml">
            <form string="Scale" version="7.0"> <sheet> <group> <field name="code"/>
            <field name="name"/> <field name="description"/> </group> </sheet> </form>
            </field> </record>-->
        
        <record id="action_edu_scale" model="ir.actions.act_window">
            <field name="name">Scales</field>
            <field name="res_model">edu.scale</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_scale" action = "action_edu_scale" sequence="10"
            parent="menu_edu_configuration_grade"/>
        
        <!-- Views for Scale Marks -->
        
        <record id="view_edu_scale_mark_tree" model="ir.ui.view">
            <field name="name">edu.scale.mark.tree</field>
            <field name="model">edu.scale.mark</field>
            <field name="arch" type="xml">
                <tree string="Scale Marks" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="type"/>
                    <field name="value"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_scale_mark" model="ir.actions.act_window">
            <field name="name">Scale Marks</field>
            <field name="res_model">edu.scale.mark</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_scale_mark" action = "action_edu_scale_mark" sequence="20"
            parent="menu_edu_configuration_grade"/>
        
        <!-- Views for Work Types -->
        
        <record id="view_edu_work_type_tree" model="ir.ui.view">
            <field name="name">edu.work.type.tree</field>
            <field name="model">edu.work.type</field>
            <field name="arch" type="xml">
                <tree string="Work Types" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="st_hours"/>
                    <field name="seance_hours"/>
                    <field name="emp_hours"/>
                    <field name="ind_work"/>
                    <field name="scale"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_work_type" model="ir.actions.act_window">
            <field name="name">Work Types</field>
            <field name="res_model">edu.work.type</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_work_type" action = "action_edu_work_type" sequence="6" parent="menu_edu_configuration_program"/>
        
        <!-- Views for Years -->
        
        <record id="view_edu_year_tree" model="ir.ui.view">
            <field name="name">edu.year.tree</field>
            <field name="model">edu.year</field>
            <field name="arch" type="xml">
                <tree string="Academic Years" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_year_form" model="ir.ui.view">
            <field name="name">edu.year.form</field>
            <field name="model">edu.year</field>
            <field name="arch" type="xml">
                <form string="Academic Year" version="7.0">
                    <group>
                        <group>
                            <field name="code"/>
                            <field name="date_start"/>
                        </group>
                        <group>
                            <field name="name"/>
                            <field name="date_stop"/>
                        </group>
                    </group>
                </form>
            </field>
        </record>
        
        <record id="action_edu_year" model="ir.actions.act_window">
            <field name="name">Academic Years</field>
            <field name="res_model">edu.year</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_year" action = "action_edu_year" sequence="3" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Order Lines -->
        
        <record id="view_edu_order_line_tree" model="ir.ui.view">
            <field name="name">edu.order.line.tree</field>
            <field name="model">edu.order.line</field>
            <field name="arch" type="xml">
                <tree string="Order Lines" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="order_id"/>
                    <field name="year_id"/>
                    <field name="type" invisible="1"/>
                    <field name="statement_id"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality" invisible="1"/>
                    <field name="mode_id" invisible="1"/>
                    <field name="stage_id"/>
                    <field name="plan_id"/>
                    <field name="status" groups="irsid_edu.group_edu_employee"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_order_line_form" model="ir.ui.view">
            <field name="name">edu.order.line.form</field>
            <field name="model">edu.order.line</field>
            <field name="arch" type="xml">
                <form string="Order Line" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="order_id" domain="[('state','not in',['approved','done'])]" on_change="onchange_order_id(order_id)"/>
                            <field name="origin"/>
                            <field name="year_id"/>
                            <field name="type" invisible="1"/>
                            <field name="statement_id"/>
                            <field name="order_program" invisible="1"/>
                            <field name="order_stage_id" invisible="1"/>
                            <field name="student_id" attrs="{'invisible': [('type','!=', 'admission')]}"/>
                            <field name="line_id" domain="[order_program and ('program','=',order_program)
                                or ('program','!=',False),('state','=','approved')]"
                                attrs="{'invisible': [('type','!=', 'admission')]}"
                                on_change="onchange_line_id(line_id)"/>
                            <field name="st_program" domain="[order_program and ('program','=',order_program)
                                or ('program','!=',False), order_stage_id and ('stage_id','=',order_stage_id)
                                or ('stage_id','!=',False)]" attrs="{'invisible':
                                [('type','=', 'admission')]}" on_change="onchange_st_program(st_program)"/>
                            <field name="program"/>
                            <field name="speciality"/>
                            <field name="mode_id"/>
                            <field name="stage_id" attrs="{'invisible': [('type','not in', ['enrollment','transfer','dismissal'])]}"
                                domain="[('programs','=',program)]"/>
                            <field name="plan_id" attrs="{'invisible': [('type','not in', ['enrollment','transfer'])]}"
                                domain="[('program','=',program)]"/>
                            <field name="status" attrs="{'invisible': [('type','not in', ['enrollment','transfer'])]}"/>
                        </group>
                        <notebook>
                            <page string="Note">
                                <field name="note"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_order_line_filter" model="ir.ui.view">
            <field name="name">edu.order.line.filter</field>
            <field name="model">edu.order.line</field>
            <field name="arch" type="xml">
                <search string="Order Lines">
                    <field name="order_id"/>
                    <field name="year_id"/>
                    <field name="type"/>
                    <field name="statement_id"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="plan_id"/>
                    <field name="status"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Order" domain="[]" context="{'group_by' : 'order_id'}"/>
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Statement" domain="[]" context="{'group_by' : 'statement_id'}"/>
                        <filter string="Student" domain="[]" context="{'group_by' : 'student_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Speciality" domain="[]" context="{'group_by' : 'speciality'}"/>
                        <filter string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter string="Plan" domain="[]" context="{'group_by' : 'plan_id'}"/>
                        <filter string="Status" domain="[]" context="{'group_by' : 'status'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_order_line" model="ir.actions.act_window">
            <field name="name">Order Lines</field>
            <field name="res_model">edu.order.line</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_order_line_filter"/>
        </record>
        
        <menuitem id="menu_edu_order_line" action = "action_edu_order_line" sequence="80"
            parent="menu_edu_report"/>
        
        <!-- Views for Orders -->
        
        <record id="action_active_order_line" model="ir.actions.act_window">
            <field name="name">Lines By Order</field>
            <field name="res_model">edu.order.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_order_id': active_id,'group_by': False}</field>
            <field name="domain">[('order_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_order_line_filter"/>
        </record>
        
        <record id="view_edu_order_tree" model="ir.ui.view">
            <field name="name">edu.order.tree</field>
            <field name="model">edu.order</field>
            <field name="arch" type="xml">
                <tree string="Orders" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="statement_id"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_order_form" model="ir.ui.view">
            <field name="name">edu.order.form</field>
            <field name="model">edu.order</field>
            <field name="arch" type="xml">
                <form string="Order" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_order_line)d" string="Order Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Order: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="statement_id" on_change="onchange_statement_id(statement_id)"/>
                            <field name="name" invisible="1"/>
                        </h2>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="type" readonly="1"/>
                                <field name="program" on_change="onchange_program(program)"/>
                                <field name="stage_id" domain= "program and [('programs','=',program)] or
                                    []"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <label for="intro_text" class="oe_edit_only"/>
                        <field name="intro_text" placeholder="Place reason text here (In connection ... etc)"/>
                        <h2>
                            <label string="I ORDER"/>
                        </h2>
                        <label for="main_text" class="oe_edit_only"/>
                        <field name="main_text" placeholder="Place decision text here..."/>
                        <field name="line_ids" context="{'default_type': type}" readonly="1">
                            <tree string="Order Lines">
                                <field name="student_id"/>
                                <field name="line_id" invisible="context.get('default_type',False) not in ['admission']"
                                    on_change="onchange_line_id(line_id)"/>
                                <field name="order_program" invisible="1"/>
                                <field name="order_stage_id" invisible="1"/>
                                <field name="program"/>
                                <field name="stage_id" invisible="context.get('default_type',False) in ['admission','other']"/>
                                <field name="plan_id" invisible="context.get('default_type',False) in ['admission','dismissal','other']"/>
                                <field name="status" invisible="context.get('default_type',False) in ['admission','dismissal','other']"/>
                                <field name="note"/>
                                <field name="state"/>
                            </tree>
                        </field>
                        <label for="final_text" class="oe_edit_only"/>
                        <field name="final_text" placeholder="Place obligation and responsibility text here..."/>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_order_filter" model="ir.ui.view">
            <field name="name">edu.order.filter</field>
            <field name="model">edu.order</field>
            <field name="arch" type="xml">
                <search string="Orders">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="line_ids"/>
                    <field name="year_id"/>
                    <field name="type"/>
                    <field name="statement_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Statement" domain="[]" context="{'group_by' : 'statement_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_entrance_order" model="ir.actions.act_window">
            <field name="name">Entrance Orders</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','in',['admission','enrollment'])]</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
        </record>
        
        <menuitem id="menu_edu_entrance_order" action = "action_edu_entrance_order" name="Entrance
            Orders" parent="menu_edu_entrance" sequence="60"/>
        
        <record id="action_edu_order_admission" model="ir.actions.act_window">
            <field name="name">Orders For Admission</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','admission')]</field>
            <field name="context">
                {'default_type': 'admission','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_entrance_order'}
            </field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new order for admission.</p>
                <p>
                    Created record holds information about applicant(s) and selected admission line(s).
                    Before creating order make sure you have record(s) under "Applicants"
                    menu entry for applicant(s). If it's true just click "Create"
                    to fill in order form, then press "Confirm" button. Please fill
                    in all forms carefully!
                </p>
                <p>
                    You can choose several admission lines in one order. The social feature helps you
                    organize discussions on order and allows you to keep track of
                    its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_order_admission" action = "action_edu_order_admission" sequence="10"
            parent="menu_edu_entrance_order"/>
        
        <record id="action_edu_order_enrollment" model="ir.actions.act_window">
            <field name="name">Orders For Enrollment</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','enrollment')]</field>
            <field name="context">
                {'default_type': 'enrollment','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_entrance_order'}
            </field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new order for enrollment.</p>
                <p>
                    Created record holds information about applicant(s) and selected Education Programs.
                    Before creating order make sure you have record(s) under "Applicant
                    Programs" menu entry for applicant(s). If it's true just click
                    "Create" to fill in order form, then press "Confirm" button. Please
                    fill in all forms carefully!
                </p>
                <p>
                    The social feature helps you organize discussions on order and allows you to keep
                    track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_order_enrollment" action = "action_edu_order_enrollment" sequence="20"
            parent="menu_edu_entrance_order"/>
        
        <record id="action_edu_training_order" model="ir.actions.act_window">
            <field name="name">Training Orders</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','in',['transfer','dismissal','other'])]</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
        </record>
        
        <menuitem id="menu_edu_training_order" action = "action_edu_training_order" name="Training
            Orders" parent="menu_edu_training" sequence="90"/>
        
        <record id="action_edu_order_transfer" model="ir.actions.act_window">
            <field name="name">Orders For Transfer</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','transfer')]</field>
            <field name="context">
                {'default_type': 'transfer','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_order'}
            </field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new order for transfer.</p>
                <p>
                    Created record holds information about student(s) and selected program, stage, plan
                    and status for transfer. Stages include different courses, study
                    leave etc. If student is to change program then order must have
                    two lines with old program and new one with correspondent stages.
                    Just click "Create" to fill in order form, then press "Confirm"
                    button. Please fill in all forms carefully!
                </p>
                <p>
                    The social feature helps you organize discussions on order and allows you to keep
                    track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_order_transfer" action = "action_edu_order_transfer" sequence="10"
            parent="menu_edu_training_order"/>
        
        <record id="action_edu_order_dismissal" model="ir.actions.act_window">
            <field name="name">Orders For Dismissal</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','dismissal')]</field>
            <field name="context">
                {'default_type': 'dismissal','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_order'}
            </field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new order for dismissal.</p>
                <p>
                    Created record holds information about student program(s) for dismissal. Stages for
                    this type are 'Training Done' and 'Training Canceled'. Just click
                    "Create" to fill in order form, then press "Confirm" button. Please
                    fill in all forms carefully!
                </p>
                <p>
                    The social feature helps you organize discussions on order and allows you to keep
                    track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_order_dismissal" action = "action_edu_order_dismissal" sequence="20"
            parent="menu_edu_training_order"/>
        
        <record id="action_edu_order_other" model="ir.actions.act_window">
            <field name="name">Other Orders</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','other')]</field>
            <field name="context">
                {'default_type': 'other','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_order'}
            </field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new arbitrary order.</p>
                <p>
                    Created record holds information about student(s) and petition in arbitrary form.
                    This order doesn't change student program, stage, plan or status.
                    Just click "Create" to fill in order form, then press "Confirm"
                    button. Please fill in all forms carefully!
                </p>
                <p>
                    The social feature helps you organize discussions on order and allows you to keep
                    track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_order_other" action = "action_edu_order_other" sequence="40"
            parent="menu_edu_training_order"/>
        
        <!-- Views for Grade Lines -->
        
        <record id="view_edu_grade_line_tree" model="ir.ui.view">
            <field name="name">edu.grade.line.tree</field>
            <field name="model">edu.grade.line</field>
            <field name="arch" type="xml">
                <tree string="Grade Lines" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="grade_id"/>
                    <field name="st_program"/>
                    <field name="module"/>
                    <field name="time" invisible="1"/>
                    <field name="type"/>
                    <field name="scale"/>
                    <field name="mark"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="points" sum="Points"/>
                    <field name="employee"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_grade_line_form" model="ir.ui.view">
            <field name="name">edu.grade.line.form</field>
            <field name="model">edu.grade.line</field>
            <field name="arch" type="xml">
                <form string="Grade Line" version="7.0">
                    <header>
                        <button name="set_approved" string="Approve" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_draft" string="Revise" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,approved" readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="title" placeholder="Place here title of work (task) done by student..."/>
                            <field name="grade_id" invisible="1" on_change="onchange_grade_id(grade_id)"/>
                            <field name="module"/>
                            <field name="time"/>
                            <field name="type"/>
                            <field name="scale"/>
                            <field name="st_program" domain="[('grade_ids','=',grade_id),('state','=','open')]"/>
                            <field name="mark" domain="[('type','=',scale)]"/>
                            <field name="points"/>
                            <field name="employee"/>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_grade_line_filter" model="ir.ui.view">
            <field name="name">edu.grade.line.filter</field>
            <field name="model">edu.grade.line</field>
            <field name="arch" type="xml">
                <search string="Grade Lines">
                    <field name="title"/>
                    <field name="grade_id"/>
                    <field name="st_program"/>
                    <field name="module"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="scale"/>
                    <field name="mark"/>
                    <field name="employee"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Grade" domain="[]" context="{'group_by' : 'grade_id'}"/>
                        <filter string="Student Program" domain="[]" context="{'group_by' : 'st_program'}"/>
                        <filter name="gr_module" string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter string="Work Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                        <filter string="Mark" domain="[]" context="{'group_by' : 'mark'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_active_student_program_grade_line" model="ir.actions.act_window">
            <field name="name">Grade Lines By Program</field>
            <field name="res_model">edu.grade.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False,'search_default_gr_module':1}</field>
            <field name="domain">[('st_program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_grade_line_filter"/>
        </record>
        
        <record id="action_edu_grade_line" model="ir.actions.act_window">
            <field name="name">Grade Lines</field>
            <field name="res_model">edu.grade.line</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_grade_line_filter"/>
        </record>
        
        <!-- Views for Grades -->
        
        <record id="action_active_grade_line" model="ir.actions.act_window">
            <field name="name">Lines By Grade</field>
            <field name="res_model">edu.grade.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'default_grade_id': active_id, 'group_by': False, 'search_default_gr_year_id':0,
                'search_default_gr_program':0, 'search_default_gr_module':0,
                }
            </field>
            <field name="domain">[('grade_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_grade_line_filter"/>
        </record>
        
        <record id="view_edu_grade_tree" model="ir.ui.view">
            <field name="name">edu.grade.tree</field>
            <field name="model">edu.grade</field>
            <field name="arch" type="xml">
                <tree string="Grades" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="time"/>
                    <field name="module"/>
                    <field name="seance"/>
                    <field name="type"/>
                    <field name="scale" invisible="1"/>
                    <field name="employee"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_grade_form" model="ir.ui.view">
            <field name="name">edu.grade.form</field>
            <field name="model">edu.grade</field>
            <field name="arch" type="xml">
                <form string="Grade" version="7.0">
                    <header>
                        <button name="set_approved" string="Approve" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_draft" string="Revise" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,approved" readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_grade_line)d" string="Lines By Grade" type="action"/>
                        </div>
                        <h1>
                            <label string="Grade Sheet: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <field name="seance" on_change="onchange_seance(seance)"/>
                            <field name="employee"/>
                        </group>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="program"/>
                                <field name="module"/>
                                <field name="time"/>
                                <field name="type"/>
                                <field name="scale"/>
                                <field name="st_hours"/>
                                <field name="seance_hours"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Grade Lines">
                                <field name="line_ids" readonly="1">
                                    <tree string="Training Work">
                                        <field name="st_program"/>
                                        <field name="mark"/>
                                        <field name="points"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Student Programs">
                                <field name="st_programs">
                                    <tree>
                                        <field name="code"/>
                                        <field name="student_id"/>
                                        <field name="program"/>
                                        <field name="stage_id"/>
                                        <field name="plan_id"/>
                                        <field name="group_id"/>
                                        <field name="status"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_grade_filter" model="ir.ui.view">
            <field name="name">edu.grade.filter</field>
            <field name="model">edu.grade</field>
            <field name="arch" type="xml">
                <search string="Grades">
                    <field name="name"/>
                    <field name="seance"/>
                    <field name="module"/>
                    <field name="time"/>
                    <field name="type"/>
                    <field name="scale"/>
                    <field name="employee"/>
                    <field name="st_programs"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_program" string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_time" string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter name="gr_module" string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Seance" domain="[]" context="{'group_by' : 'seance'}"/>
                        <filter string="Work Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_grade" model="ir.actions.act_window">
            <field name="name">Grades</field>
            <field name="res_model">edu.grade</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                {'search_default_gr_year_id':1,'search_default_gr_program':1,'search_default_gr_module':1}
            </field>
            <field name="search_view_id" ref="view_edu_grade_filter"/>
        </record>
        
        <menuitem id="menu_edu_grade" action = "action_edu_grade" sequence="100" parent="menu_edu_training"/>
        
        <!-- Views for Seances -->
        
        <record id="action_active_seance_grade" model="ir.actions.act_window">
            <field name="name">Grades By Seance</field>
            <field name="res_model">edu.grade</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_seance': active_id,'group_by': False}</field>
            <field name="domain">[('seance','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_grade_filter"/>
        </record>
        
        <record id="view_edu_seance_calendar" model="ir.ui.view">
            <field name="name">edu.seance.calendar</field>
            <field name="model">edu.seance</field>
            <field name="arch" type="xml">
                <calendar color="module" date_start="datetime_start" date_stop="datetime_stop"
                    string="Seances">
                    <field name="employee"/>
                    <field name="location_id"/>
                </calendar>
            </field>
        </record>
        
        <record id="view_edu_seance_tree" model="ir.ui.view">
            <field name="name">edu.seance.tree</field>
            <field name="model">edu.seance</field>
            <field name="arch" type="xml">
                <tree string="Seances" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="module"/>
                    <field name="period"/>
                    <field name="time" invisible="1"/>
                    <field name="type"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="datetime_start"/>
                    <field name="datetime_stop"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="emp_hours" sum="Employee Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_seance_form" model="ir.ui.view">
            <field name="name">edu.seance.form</field>
            <field name="model">edu.seance</field>
            <field name="arch" type="xml">
                <form string="Seance" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_canceled" string="Cancel" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_teacher"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="update_seance" string="Update Seance From Module" type="object" states="draft"
                            groups="irsid_edu.group_edu_employee"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved,done"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_seance_grade)d" string="Grades" type="action"/>
                        </div>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h2>
                                <field name="name"/>
                            </h2>
                        </div>
                        <group string="Summary">
                            <field name="work" on_change="onchange_work(work)"/>
                            <field name="modulework" invisible="1"/>
                            <field name="moduleseance" on_change="onchange_moduleseance(moduleseance)"
                                domain="[('work','=',modulework)]"/>
                            <field name="module"/>
                            <field name="time"/>
                            <field name="type"/>
                            <field name="scale"/>
                        </group>
                        <group>
                            <group>
                                <field name="employee"/>
                                <field name="location_id"/>
                                <field name="datetime_start" on_change="onchange_datetime_start(datetime_start,seance_hours)"/>
                                <field name="datetime_stop"/>
                            </group>
                            <group>
                                <field name="st_hours"/>
                                <field name="seance_hours" on_change="onchange_datetime_start(datetime_start,seance_hours)"/>
                                <field name="emp_hours_pre"/>
                                <field name="emp_hours"/>
                                <field name="ind_work"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Description">
                                <field name="description"/>
                            </page>
                            <page string="Student Programs">
                                <field name="st_programs">
                                    <tree>
                                        <field name="code"/>
                                        <field name="student_id"/>
                                        <field name="program"/>
                                        <field name="stage_id"/>
                                        <field name="plan_id"/>
                                        <field name="group_id"/>
                                        <field name="status"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Grades">
                                <field name="grade_ids"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_seance_filter" model="ir.ui.view">
            <field name="name">edu.seance.filter</field>
            <field name="model">edu.seance</field>
            <field name="arch" type="xml">
                <search string="Seances">
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="period"/>
                    <field name="time"/>
                    <field name="module"/>
                    <field name="type"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="st_programs"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_program" string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_period" string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter name="gr_time" string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter name="gr_module" string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                        <filter string="Location" domain="[]" context="{'group_by' : 'location_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_seance" model="ir.actions.act_window">
            <field name="name">Seances</field>
            <field name="res_model">edu.seance</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="context">
                { 'search_default_gr_year_id':1, 'search_default_gr_program':1, 'search_default_gr_period':1,
                'search_default_gr_module':1 }
            </field>
            <field name="search_view_id" ref="view_edu_seance_filter"/>
        </record>
        
        <menuitem id="menu_edu_seance" action = "action_edu_seance" sequence="80" parent="menu_edu_training"/>
        
        <!-- Views for Training Work -->
        
        <record id="action_active_work_seance" model="ir.actions.act_window">
            <field name="name">Seances By Work</field>
            <field name="res_model">edu.seance</field>
            <field name="view_mode">tree,calendar,form</field>
            <field name="context">
                {'default_work': active_id,'group_by': False,'search_default_gr_time':0,'search_default_gr_module':0}
            </field>
            <field name="domain">[('work','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_seance_filter"/>
        </record>
        
        <record id="view_edu_work_tree" model="ir.ui.view">
            <field name="name">edu.work.tree</field>
            <field name="model">edu.work</field>
            <field name="arch" type="xml">
                <tree string="Training Work" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="year_id"/>
                    <field name="order_id"/>
                    <field name="program"/>
                    <field name="period"/>
                    <field name="time" invisible="1"/>
                    <field name="module"/>
                    <field name="type"/>
                    <field name="scale" invisible="1"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="emp_hours" sum="Employee Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_work_form" model="ir.ui.view">
            <field name="name">edu.work.form</field>
            <field name="model">edu.work</field>
            <field name="arch" type="xml">
                <form string="Training Work" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="update_work" string="Update Work" type="object" states="draft" groups="irsid_edu.group_edu_employee"/>
                        <button name="update_seances" string="Update Seances" type="object" states="draft,validated,approved"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="update_seance_datetime_start" string="Update Seances Datetime" type="object"
                            states="draft,validated,approved" groups="irsid_edu.group_edu_employee"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_work_seance)d" string="Seances By Work" type="action"/>
                        </div>
                        <div class="oe_title">
                            <label for="code" class="oe_edit_only"/>
                            <h2>
                                <field name="code"/>
                            </h2>
                        </div>
                        <group>
                            <field name="order_id" invisible="1" on_change="onchange_order_id(order_id)"/>
                            <field name="program"/>
                            <field name="modulework" on_change="onchange_modulework(modulework)" domain="[('program','=',program)]"/>
                            <field name="module"/>
                            <field name="time"/>
                            <field name="type"/>
                            <field name="scale"/>
                            <field name="employee"/>
                            <field name="location_id"/>
                            <field name="date_start"/>
                            <field name="date_stop"/>
                            <field name="datetime_start1"/>
                            <field name="interval1"/>
                            <field name="datetime_start2"/>
                            <field name="interval2"/>
                        </group>
                        <group>
                            <group>
                                <field name="st_hours"/>
                                <field name="seance_hours"/>
                                <field name="emp_hours"/>
                                <field name="emp_hours_pre"/>
                                <field name="ind_work"/>
                            </group>
                            <group>
                                <field name="eff_st_hours"/>
                                <field name="eff_seance_hours"/>
                                <field name="eff_emp_hours"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Student Programs">
                                <field name="st_programs">
                                    <tree>
                                        <field name="code"/>
                                        <field name="student_id"/>
                                        <field name="program"/>
                                        <field name="stage_id"/>
                                        <field name="plan_id"/>
                                        <field name="group_id"/>
                                        <field name="status"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_work_filter" model="ir.ui.view">
            <field name="name">edu.work.filter</field>
            <field name="model">edu.work</field>
            <field name="arch" type="xml">
                <search string="Training Work">
                    <field name="order_id"/>
                    <field name="program"/>
                    <field name="period"/>
                    <field name="time" invisible="1"/>
                    <field name="module"/>
                    <field name="type"/>
                    <field name="scale"/>
                    <field name="employee"/>
                    <field name="location_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_order_id" string="Order" domain="[]" context="{'group_by' : 'order_id'}"/>
                        <filter name="gr_program" string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_period" string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter name="gr_time" string="Time" domain="[]" context="{'group_by' : 'time'}"/>
                        <filter name="gr_module" string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                        <filter string="Employee" domain="[]" context="{'group_by' : 'employee'}"/>
                        <filter string="Location" domain="[]" context="{'group_by' : 'location_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        
        <record id="action_edu_work" model="ir.actions.act_window">
            <field name="name">Training Work</field>
            <field name="res_model">edu.work</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'search_default_gr_year_id':1, 'search_default_gr_program':1, 'search_default_gr_period':1,
                'search_default_gr_module':1 }
            </field>
            <field name="search_view_id" ref="view_edu_work_filter"/>
        </record>
        
        <menuitem id="menu_edu_work" action = "action_edu_work" sequence="70" parent="menu_edu_training"/>
        
        <record id="action_edu_work_my" model="ir.actions.act_window">
            <field name="name">My Training Work</field>
            <field name="res_model">edu.work</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'search_default_gr_year_id':1, 'search_default_gr_program':1, 'search_default_gr_period':1,
                'search_default_gr_module':1 }
            </field>
            <field name="domain">[('employee.user_id','=',uid)]</field>
            <field name="search_view_id" ref="view_edu_work_filter"/>
        </record>
        
        <menuitem id="menu_edu_work_my" action = "action_edu_work_my" sequence="71" parent="menu_edu_training"
            groups="group_edu_teacher"/>
        
        <!-- Views for Work Orders -->
        
        <record id="action_active_work_order_work" model="ir.actions.act_window">
            <field name="name">Work By Order</field>
            <field name="res_model">edu.work</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                { 'default_order_id': active_id, 'group_by': False, 'search_default_gr_period':1,
                'search_default_gr_module':1 }
            </field>
            <field name="domain">[('order_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_work_filter"/>
        </record>
        
        <record id="view_edu_work_order_tree" model="ir.ui.view">
            <field name="name">edu.work.order.tree</field>
            <field name="model">edu.work.order</field>
            <field name="arch" type="xml">
                <tree string="Work Orders" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_work_order_form" model="ir.ui.view">
            <field name="name">edu.work.order.form</field>
            <field name="model">edu.work.order</field>
            <field name="arch" type="xml">
                <form string="Work Order" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_work_order_work)d" string="Training Work" type="action"/>
                        </div>
                        <h1>
                            <label string="Work Order: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="program" on_change="onchange_program(program)"/>
                                <field name="stage_id" domain= "program and [('programs','=',program)] or
                                    []"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Training Work">
                                <field name="works" readonly="1">
                                    <tree string="Training Work">
                                        <field name="module"/>
                                        <field name="time"/>
                                        <field name="type"/>
                                        <field name="employee"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="emp_hours" sum="Employee Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_work_order_filter" model="ir.ui.view">
            <field name="name">edu.work.order.filter</field>
            <field name="model">edu.work.order</field>
            <field name="arch" type="xml">
                <search string="Work Orders">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="works"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        
        <record id="action_edu_work_order" model="ir.actions.act_window">
            <field name="name">Work Orders</field>
            <field name="res_model">edu.work.order</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_work_order_filter"/>
        </record>
        
        <menuitem id="menu_edu_work_order" action = "action_edu_work_order" sequence="60"
            parent="menu_edu_training"/>
        
        <!-- Views for Schedule Lines-->
        
        <record id="view_edu_schedule_line_tree" model="ir.ui.view">
            <field name="name">edu.schedule.line.tree</field>
            <field name="model">edu.schedule.line</field>
            <field name="arch" type="xml">
                <tree string="Schedule Lines" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="year_id"/>
                    <field name="schedule_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="period"/>
                    <field name="time" invisible="1"/>
                    <field name="name"/>
                    <field name="category_id"/>
                    <field name="weeks" sum="Weeks"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_schedule_line_calendar" model="ir.ui.view">
            <field name="name">edu.schedule.line.calendar</field>
            <field name="model">edu.schedule.line</field>
            <field name="arch" type="xml">
                <calendar color="time" date_start="date_start" date_stop="date_stop" string="Schedule
                    Lines">
                    <field name="code"/>
                    <field name="program"/>
                    <field name="weeks"/>
                </calendar>
            </field>
        </record>
        
        <record id="view_edu_schedule_line_form" model="ir.ui.view">
            <field name="name">edu.schedule.line.form</field>
            <field name="model">edu.schedule.line</field>
            <field name="arch" type="xml">
                <form string="Schedule Line" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <label for="code" class="oe_edit_only"/>
                        <h1>
                            <field name="code"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <field name="schedule_id" invisible="1" on_change="onchange_schedule_id(schedule_id)"/>
                            <field name="program"/>
                            <field name="time" domain="[('program','=',program)]" on_change="onchange_time(time)"/>
                            <field name="category_id" readonly="1"/>
                            <field name="period" readonly="1"/>
                            <field name="weeks" readonly="1"/>
                            <field name="date_start" on_change="onchange_date_start(date_start, weeks)"/>
                            <field name="date_stop"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_schedule_line_filter" model="ir.ui.view">
            <field name="name">edu.schedule.line.filter</field>
            <field name="model">edu.schedule.line</field>
            <field name="arch" type="xml">
                <search string="Schedule Lines">
                    <field name="name"/>
                    <field name="schedule_id"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="time"/>
                    <field name="category_id"/>
                    <field name="period"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Schedule" domain="[]" context="{'group_by' : 'schedule_id'}"/>
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter name="gr_stage_id" string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter name="gr_period" string="Period" domain="[]" context="{'group_by' : 'period'}"/>
                        <filter string="Category" domain="[]" context="{'group_by' : 'category_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_schedule_line" model="ir.actions.act_window">
            <field name="name">Schedule Lines</field>
            <field name="res_model">edu.schedule.line</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="search_view_id" ref="view_edu_schedule_line_filter"/>
        </record>
        
        <menuitem id="menu_edu_schedule_line" action = "action_edu_schedule_line" sequence="50"
            parent="menu_edu_report"/>
        
        <!-- Views for Training Schedule -->
        
        <record id="action_active_schedule_line" model="ir.actions.act_window">
            <field name="name">Lines By Schedule</field>
            <field name="res_model">edu.schedule.line</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="context">
                {'default_schedule_id': active_id,'group_by': False,'search_default_gr_stage_id':1,'search_default_gr_period':1}
            </field>
            <field name="domain">[('schedule_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_schedule_line_filter"/>
        </record>
        
        <record id="view_edu_schedule_tree" model="ir.ui.view">
            <field name="name">edu.schedule.tree</field>
            <field name="model">edu.schedule</field>
            <field name="arch" type="xml">
                <tree string="Training Schedules" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="year_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_schedule_form" model="ir.ui.view">
            <field name="name">edu.schedule.form</field>
            <field name="model">edu.schedule</field>
            <field name="arch" type="xml">
                <form string="Training Schedule" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_employee"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,canceled,done"
                            groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_schedule_line)d" string="Schedule Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Training Schedule: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="program"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Schedule Lines">
                                <field name="line_ids" context="{'default_schedule_id': active_id, 'default_program':
                                    program}">
                                    <tree string="Schedule Lines" editable="bottom">
                                        <field name="program" invisible="1"/>
                                        <field name="time" on_change="onchange_time(time)"/>
                                        <field name="name"/>
                                        <field name="category_id"/>
                                        <field name="period"/>
                                        <field name="weeks"/>
                                        <field name="date_start"/>
                                        <field name="date_stop"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <!-- <page string="Add Time"> <field name="times" context="{'search_default_program':
                                program}"> <tree string="Time"> <field name="program"
                                invisible="1"/> <field name="name"/> <field name="category_id"/>
                                <field name="period"/> <field name="weeks"/> <field
                                name="state"/> </tree> </field> </page> -->
                        </notebook>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_schedule_filter" model="ir.ui.view">
            <field name="name">edu.schedule.filter</field>
            <field name="model">edu.schedule</field>
            <field name="arch" type="xml">
                <search string="Training Schedule">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="program"/>
                    <field name="year_id"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_schedule" model="ir.actions.act_window">
            <field name="name">Time Schedules</field>
            <field name="res_model">edu.schedule</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_schedule_filter"/>
        </record>
        
        <menuitem id="menu_edu_schedule" action = "action_edu_schedule" sequence="50" parent="menu_edu_training"/>
        
        <!-- Views for Admission Targets -->
        
        <record id="view_edu_admission_target_tree" model="ir.ui.view">
            <field name="name">edu.admission.target.tree</field>
            <field name="model">edu.admission.target</field>
            <field name="arch" type="xml">
                <tree string="Admission Targets" version="7.0" editable="bottom">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="state_funding"/>
                    <field name="partner_targeted"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_admission_target" model="ir.actions.act_window">
            <field name="name">Admission Targets</field>
            <field name="res_model">edu.admission.target</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_admission_target" action = "action_edu_admission_target" sequence="3"
            parent="menu_edu_configuration_admissions"/>
        
        <!-- Views for Admission Lines -->
        
        <record id="view_edu_admission_line_tree" model="ir.ui.view">
            <field name="name">edu.admission.line.tree</field>
            <field name="model">edu.admission.line</field>
            <field name="arch" type="xml">
                <tree string="Admission Lines" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="admission_id"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="target_id"/>
                    <field name="seats" sum="Seats"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_admission_line_form" model="ir.ui.view">
            <field name="name">edu.admission.line.form</field>
            <field name="model">edu.admission.line</field>
            <field name="arch" type="xml">
                <form string="Admission Line" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="admission_id" invisible="1"/>
                            <field name="program" on_change="onchange_program(program)"/>
                            <field name="name"/>
                            <field name="target_id"/>
                            <field name="seats"/>
                        </group>
                        <notebook>
                            <page string="Admission Tests">
                                <field name="test_ids"/>
                            </page>
                            <page string="Note">
                                <field name="note"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_admission_line_filter" model="ir.ui.view">
            <field name="name">edu.admission.line.filter</field>
            <field name="model">edu.admission.line</field>
            <field name="arch" type="xml">
                <search string="Admission Lines">
                    <field name="admission_id"/>
                    <field name="program"/>
                    <field name="target_id"/>
                    <field name="state"/>
                    <filter string="Approved" name="approved" domain="[('state','=','approved')]"/>
                    <group expand="1" string="Group By...">
                        <filter string="Admission" domain="[]" context="{'group_by' : 'admission_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Target" domain="[]" context="{'group_by' : 'target_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_admission_line" model="ir.actions.act_window">
            <field name="name">Admission Lines</field>
            <field name="res_model">edu.admission.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_approved': 1}</field>
            <field name="search_view_id" ref="view_edu_admission_line_filter"/>
        </record>
        
        <menuitem id="menu_edu_admission_line" action = "action_edu_admission_line" sequence="40"
            parent="menu_edu_entrance"/>
        
        <!-- Views for Admissions -->
        
        <record id="action_active_admission_line" model="ir.actions.act_window">
            <field name="name">Lines By Admission</field>
            <field name="res_model">edu.admission.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_admission_id': active_id,'group_by': False}</field>
            <field name="domain">[('admission_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_admission_line_filter"/>
        </record>
        
        <record id="view_edu_admission_tree" model="ir.ui.view">
            <field name="name">edu.admission.tree</field>
            <field name="model">edu.admission</field>
            <field name="arch" type="xml">
                <tree string="Admission Plans" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_admission_form" model="ir.ui.view">
            <field name="name">edu.admission.form</field>
            <field name="model">edu.admission</field>
            <field name="arch" type="xml">
                <form string="Admission Plan" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_admission_line)d" string="Admission Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Admission Plan: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <group>
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                            </group>
                            <group>
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Admission Lines">
                                <field name="line_ids" context="{'default_admission_id': active_id}">
                                    <tree string="Admission Lines" editable="bottom">
                                        <field name="name"/>
                                        <field name="program"/>
                                        <field name="target_id"/>
                                        <field name="seats"/>
                                        <field name="note"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Description">
                                <field name="description"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_admission_filter" model="ir.ui.view">
            <field name="name">edu.admission.filter</field>
            <field name="model">edu.admission</field>
            <field name="arch" type="xml">
                <search string="Admissions">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_admission" model="ir.actions.act_window">
            <field name="name">Admission Plans</field>
            <field name="res_model">edu.admission</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_admission_filter"/>
        </record>
        
        <menuitem id="menu_edu_admission" action = "action_edu_admission" sequence="30" parent="menu_edu_entrance"/>
        
        <!-- Views for Application Lines -->
        
        <record id="view_edu_application_line_tree" model="ir.ui.view">
            <field name="name">edu.application.line.tree</field>
            <field name="model">edu.application.line</field>
            <field name="arch" type="xml">
                <tree string="Application Lines" colors="grey:state=='canceled,approved';blue:state
                    in ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="application_id"/>
                    <field name="year_id"/>
                    <field name="type" invisible="1"/>
                    <field name="statement_id"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality" invisible="1"/>
                    <field name="mode_id" invisible="1"/>
                    <field name="stage_id"/>
                    <field name="status"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_application_line_form" model="ir.ui.view">
            <field name="name">edu.application.line.form</field>
            <field name="model">edu.application.line</field>
            <field name="arch" type="xml">
                <form string="Application Line" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_rejected" string="Reject" type="object" states="validated" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="confirmed,validated,approved"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="done,canceled,rejected"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved,done"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <label for="code" class="oe_edit_only"/>
                        <h1>
                            <field name="code"/>
                        </h1>
                        <label for="student_id" class="oe_edit_only"/>
                        <h2>
                            <field name="student_id"/>
                        </h2>
                        <group>
                            <field name="application_id" on_change="onchange_application_id(application_id)"/>
                            <field name="type" invisible="1"/>
                            <field name="year_id"/>
                            <field name="line_id" attrs="{'invisible': [('type','!=', 'admission')]}" on_change="onchange_line_id(line_id)"/>
                            <field name="st_program" attrs="{'invisible': [('type','=', 'admission')]}" on_change="onchange_st_program(st_program)"/>
                            <field name="program"/>
                            <field name="speciality"/>
                            <field name="mode_id"/>
                            <field name="stage_id" attrs="{'invisible': [('type','not in', ['enrollment','transfer','dismissal'])]}"/>
                            <field name="plan_id" attrs="{'invisible': [('type','not in', ['transfer'])]}"/>
                            <field name="status" attrs="{'invisible': [('type','not in', ['enrollment','transfer'])]}"/>
                        </group>
                        <notebook>
                            <page string="Note">
                                <field name="note"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_application_line_filter" model="ir.ui.view">
            <field name="name">edu.application.line.filter</field>
            <field name="model">edu.application.line</field>
            <field name="arch" type="xml">
                <search string="Application Lines">
                    <field name="application_id"/>
                    <field name="year_id"/>
                    <field name="type"/>
                    <field name="statement_id"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="status"/>
                    <field name="note"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Application" domain="[]" context="{'group_by' : 'application_id'}"/>
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Statement" domain="[]" context="{'group_by' : 'statement_id'}"/>
                        <filter string="Student" domain="[]" context="{'group_by' : 'student_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Speciality" domain="[]" context="{'group_by' : 'speciality'}"/>
                        <filter string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter string="Plan" domain="[]" context="{'group_by' : 'plan_id'}"/>
                        <filter string="Status" domain="[]" context="{'group_by' : 'status'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_application_line" model="ir.actions.act_window">
            <field name="name">Application Lines</field>
            <field name="res_model">edu.application.line</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_application_line_filter"/>
        </record>
        
        <menuitem id="menu_edu_application_line" action = "action_edu_application_line" sequence="70"
            parent="menu_edu_report" groups="irsid_edu.group_edu_manager"/>
        
        <!-- Views for Applications -->
        
        <record id="action_active_application_line" model="ir.actions.act_window">
            <field name="name">Application Lines</field>
            <field name="res_model">edu.application.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_application_id': active_id,'group_by': False}</field>
            <field name="domain">[('application_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_application_line_filter"/>
        </record>
        
        <record id="view_edu_application_tree" model="ir.ui.view">
            <field name="name">edu.application.tree</field>
            <field name="model">edu.application</field>
            <field name="arch" type="xml">
                <tree string="Applications" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="statement_id"/>
                    <field name="year_id"/>
                    <field name="type"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="author_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_application_form" model="ir.ui.view">
            <field name="name">edu.application.form</field>
            <field name="model">edu.application</field>
            <field name="arch" type="xml">
                <form string="Application" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_rejected" string="Reject" type="object" states="validated" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="confirmed,validated,approved"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_manager"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="done,canceled,rejected"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved,done"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_application_line)d" string="Application Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Application: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline" readonly="1"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="statement_id" on_change="onchange_statement_id(statement_id)"/>
                            <field name="name" invisible="1"/>
                        </h2>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="type" readonly="1"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <label for="intro_text" class="oe_edit_only"/>
                        <field name="intro_text" placeholder="Place reason text here (In connection with...
                            etc)"/>
                        <h2>
                            <label string="I ASK"/>
                        </h2>
                        <label for="main_text" class="oe_edit_only"/>
                        <field name="main_text" placeholder="Place petition text here..."/>
                        <field name="line_ids">
                            <tree string="Application Lines" editable="bottom">
                                <field name="student_id" invisible="context.get('default_type',False) not in ['admission']"
                                    required="context.get('default_type',False) in
                                    ['admission']"/>
                                <field name="line_id" invisible="context.get('default_type',False) not in ['admission']"
                                    required="context.get('default_type',False) in
                                    ['admission']" on_change="onchange_line_id(line_id)"/>
                                <field name="st_program" invisible="context.get('default_type',False) in ['admission']"
                                    required="context.get('default_type',False) not
                                    in ['admission']" on_change="onchange_st_program(st_program)"/>
                                <field name="program"/>
                                <field name="speciality"/>
                                <field name="mode_id"/>
                                <field name="stage_id" invisible="context.get('default_type',False) in ['admission','other']"/>
                                <field name="plan_id" invisible="context.get('default_type',False) not in ['transfer']"/>
                                <field name="status" invisible="context.get('default_type',False) not in ['enrollment','transfer']"/>
                                <field name="note"/>
                                <field name="state"/>
                            </tree>
                        </field>
                        <label for="final_text" class="oe_edit_only"/>
                        <field name="final_text" placeholder="Place agreement and responsibility text here..."/>
                        <group>
                            <field name="author_id"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_application_filter" model="ir.ui.view">
            <field name="name">edu.application.filter</field>
            <field name="model">edu.application</field>
            <field name="arch" type="xml">
                <search string="Applications">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="author_id"/>
                    <field name="line_ids"/>
                    <field name="year_id"/>
                    <field name="type"/>
                    <field name="statement_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Author" domain="[]" context="{'group_by' : 'author_id'}"/>
                        <filter string="Type" domain="[]" context="{'group_by' : 'type'}"/>
                        <filter string="Statement" domain="[]" context="{'group_by' : 'statement_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_entrance_application" model="ir.actions.act_window">
            <field name="name">Entrance Applications</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','in',['admission','enrollment'])]</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
        </record>
        
        <menuitem id="menu_edu_entrance_application" action = "action_edu_entrance_application"
            name="Entrance Applications" parent="menu_edu_entrance" sequence="50"/>
        
        <record id="action_edu_application_admission" model="ir.actions.act_window">
            <field name="name">Applications For Admission</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','admission')]</field>
            <field name="context">
                {'default_type': 'admission','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_entrance_application'}
            </field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new application for admission.</p>
                <p>
                    Created record holds information about applicant(s) and selected admission line(s).
                    Before creating application make sure you have record(s) under
                    "Applicants" menu entry for applicant(s). If it's true just click
                    "Create" to fill in application form, then press "Confirm" button.
                    Please fill in all forms carefully!
                </p>
                <p>
                    You can choose several admission lines in one application. If you are representative
                    (parent, employee) then you can choose several applicants you
                    are in charge of with several admission lines. The social feature
                    helps you organize discussions on application and allows you to
                    keep track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_application_admission" action = "action_edu_application_admission"
            sequence="10" parent="menu_edu_entrance_application"/>
        
        <record id="action_edu_application_enrollment" model="ir.actions.act_window">
            <field name="name">Applications For Enrollment</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','enrollment')]</field>
            <field name="context">
                {'default_type': 'enrollment','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_entrance_application'}
            </field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new application for enrollment.</p>
                <p>
                    Created record holds information about applicant(s) and selected Education Programs.
                    Before creating application make sure you have record(s) under
                    "Applicant Programs" menu entry for applicant(s). If it's true
                    just click "Create" to fill in application form, then press "Confirm"
                    button. Please fill in all forms carefully!
                </p>
                <p>
                    If you are representative (parent, employee) then you can choose several applicant
                    programs you are in charge of. The social feature helps you organize
                    discussions on application and allows you to keep track of its
                    current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_application_enrollment" action = "action_edu_application_enrollment"
            sequence="20" parent="menu_edu_entrance_application"/>
        
        <record id="action_edu_training_application" model="ir.actions.act_window">
            <field name="name">Training Applications</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','in',['transfer','dismissal','other'])]</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
        </record>
        
        <menuitem id="menu_edu_training_application" action = "action_edu_training_application"
            name="Training Applications" parent="menu_edu_training" sequence="80"/>
        
        <record id="action_edu_application_transfer" model="ir.actions.act_window">
            <field name="name">Applications For Transfer</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','transfer')]</field>
            <field name="context">
                {'default_type': 'transfer','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_application'}
            </field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new application for transfer.</p>
                <p>
                    Created record holds information about student(s) and selected program, stage, plan
                    and status for transfer. Stages include different courses, study
                    leave etc. If student is to change program then application must
                    have two lines with old program and new one with correspondent
                    stages. Just click "Create" to fill in application form, then
                    press "Confirm" button. Please fill in all forms carefully!
                </p>
                <p>
                    If you are representative (parent, employee) then you can choose several student programs
                    you are in charge of. The social feature helps you organize discussions
                    on application and allows you to keep track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_application_transfer" action = "action_edu_application_transfer"
            sequence="10" parent="menu_edu_training_application"/>
        
        <record id="action_edu_application_dismissal" model="ir.actions.act_window">
            <field name="name">Applications For Dismissal</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','dismissal')]</field>
            <field name="context">
                {'default_type': 'dismissal','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_application'}
            </field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new application for dismissal.</p>
                <p>
                    Created record holds information about student program(s) for dismissal. Stages for
                    this type are 'Training Done' and 'Training Canceled'. Just click
                    "Create" to fill in application form, then press "Confirm" button.
                    Please fill in all forms carefully!
                </p>
                <p>
                    If you are representative (parent, employee) then you can choose several student programs
                    you are in charge of. The social feature helps you organize discussions
                    on application and allows you to keep track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_application_dismissal" action = "action_edu_application_dismissal"
            sequence="20" parent="menu_edu_training_application"/>
        
        <record id="action_edu_application_other" model="ir.actions.act_window">
            <field name="name">Other Applications</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','other')]</field>
            <field name="context">
                {'default_type': 'other','search_default_gr_state':1,'needaction_menu_ref': 'irsid_edu.menu_edu_training_application'}
            </field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new arbitrary application.</p>
                <p>
                    Created record holds information about student(s) and petition in arbitrary form.
                    This application doesn't change student program, stage, plan or
                    status. Just click "Create" to fill in application form, then
                    press "Confirm" button. Please fill in all forms carefully!
                </p>
                <p>
                    If you are representative (parent, employee) then you can choose several students
                    in one application. The social feature helps you organize discussions
                    on application and allows you to keep track of its current state.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_edu_application_other" action = "action_edu_application_other"
            sequence="40" parent="menu_edu_training_application"/>
        
        <!-- Views for Record Lines -->
        
        <record id="view_edu_record_line_tree" model="ir.ui.view">
            <field name="name">edu.record.line.tree</field>
            <field name="model">edu.record.line</field>
            <field name="arch" type="xml">
                <tree string="Record Lines" colors="grey:state=='canceled,approved';blue:state in
                    ('confirmed','validated');red:state in ('draft','rejected');green:state
                    in ('done')">
                    <field name="code"/>
                    <field name="st_program"/>
                    <field name="mark"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_record_line_form" model="ir.ui.view">
            <field name="name">edu.record.line.form</field>
            <field name="model">edu.record.line</field>
            <field name="arch" type="xml">
                <form string="Record Line" version="7.0">
                    <header>
                        <button name="set_validated" string="Validate" type="object" states="draft" class="oe_highlight"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Reject" type="object" states="validated" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <button name="update" string="Update" type="object" states="draft" groups="irsid_edu.group_edu_teacher"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <h1>
                            <label for="code"/>
                            <field name="code" class="oe_inline" readonly="1"/>
                        </h1>
                        <label for="st_program" class="oe_edit_only"/>
                        <h2>
                            <field name="st_program" domain="[('record_ids','=',record_id),('state','=','open')]"/>
                        </h2>
                        <group>
                            <field name="record_id" invisible="1"/>
                            <field name="mark"/>
                            <field name="points"/>
                        </group>
                        <notebook>
                            <page string="Grade Lines">
                                <field name="gradeline_ids">
                                    <tree string="Grade Lines">
                                        <field name="st_program"/>
                                        <field name="mark"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_record_line_filter" model="ir.ui.view">
            <field name="name">edu.record.line.filter</field>
            <field name="model">edu.record.line</field>
            <field name="arch" type="xml">
                <search string="Search Record Lines">
                    <field name="code"/>
                    <field name="st_program"/>
                    <field name="mark"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Student Program" domain="[]" context="{'group_by' : 'st_program'}"/>
                        <filter string="Mark" domain="[]" context="{'group_by' : 'mark'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_active_student_program_record_line" model="ir.actions.act_window">
            <field name="name">Record Lines By Student Program</field>
            <field name="res_model">edu.record.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('st_program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_record_line_filter"/>
        </record>
        
        <record id="action_active_record_line" model="ir.actions.act_window">
            <field name="name">Record Lines By Record</field>
            <field name="res_model">edu.record.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_record_id':active_id,'group_by': False}</field>
            <field name="domain">[('record_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_record_line_filter"/>
        </record>
        
        <record id="action_edu_record_line" model="ir.actions.act_window">
            <field name="name">Record Lines</field>
            <field name="res_model">edu.record.line</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_record_line_filter"/>
        </record>
        
        <!-- Views for Records -->
        
        <record id="view_edu_record_tree" model="ir.ui.view">
            <field name="name">edu.record.tree</field>
            <field name="model">edu.record</field>
            <field name="arch" type="xml">
                <tree string="Records" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="program"/>
                    <field name="year_id"/>
                    <field name="module"/>
                    <field name="journal_id"/>
                    <field name="scale"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_record_form" model="ir.ui.view">
            <field name="name">edu.record.form</field>
            <field name="model">edu.record</field>
            <field name="arch" type="xml">
                <form string="Record" version="7.0">
                    <header>
                        <button name="set_validated" string="Validate" type="object" states="draft" class="oe_highlight"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Reject" type="object" states="validated" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_prorector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_record_line)d" string="Record Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Record Sheet: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <group>
                            <field name="modulerecord_id" on_change="onchange_modulerecord_id(modulerecord_id)"/>
                            <field name="employee"/>
                        </group>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id,module)"/>
                                <field name="program"/>
                                <field name="module"/>
                                <field name="credits"/>
                                <field name="scale"/>
                                <field name="st_hours"/>
                                <field name="seance_hours"/>
                                <field name="journal_id"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Record Lines">
                                <field name="line_ids">
                                    <tree string="Training Work" editable="bottom">
                                        <field name="st_program"/>
                                        <field name="mark"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Student Programs">
                                <field name="st_programs" domain="[('program','=',program)]">
                                    <tree>
                                        <field name="code"/>
                                        <field name="student_id"/>
                                        <field name="program"/>
                                        <field name="stage_id"/>
                                        <field name="plan_id"/>
                                        <field name="group_id"/>
                                        <field name="status"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Module Work">
                                <field name="moduleworks">
                                    <tree>
                                        <field name="time"/>
                                        <field name="period"/>
                                        <field name="type"/>
                                        <field name="st_hours" sum="Student Hours"/>
                                        <field name="seance_hours" sum="Seance Hours"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_record_filter" model="ir.ui.view">
            <field name="name">edu.record.filter</field>
            <field name="model">edu.record</field>
            <field name="arch" type="xml">
                <search string="Records">
                    <field name="code"/>
                    <field name="program"/>
                    <field name="year_id"/>
                    <field name="module"/>
                    <field name="journal_id"/>
                    <field name="scale"/>
                    <group expand="1" string="Group By...">
                        <filter string="Student Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Module" domain="[]" context="{'group_by' : 'module'}"/>
                        <filter string="Journal" domain="[]" context="{'group_by' : 'journal_id'}"/>
                        <filter string="Scale" domain="[]" context="{'group_by' : 'scale'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_record" model="ir.actions.act_window">
            <field name="name">Records</field>
            <field name="res_model">edu.record</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_edu_record_filter"/>
        </record>
        
        <menuitem id="menu_edu_record" action = "action_edu_record" sequence="110" parent="menu_edu_training"/>
        
        <!-- Views for Student Programs -->
        
        <record id="action_active_student_program_application" model="ir.actions.act_window">
            <field name="name">Applications By Program</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('line_ids.st_program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
        </record>
        
        <record id="action_active_student_program_order" model="ir.actions.act_window">
            <field name="name">Orders By Program</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('line_ids.st_program','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
        </record>
        
        <record id="action_active_student_program_schedule_line" model="ir.actions.act_window">
            <field name="name">Schedule Lines By Program</field>
            <field name="res_model">edu.schedule.line</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="context">
                {'group_by': False,'search_default_gr_year_id':1,'search_default_gr_period': 1}
            </field>
            <field name="domain">
                [('program','=',program),('stage_id','=',stage_id),('state','=','approved')]
            </field>
            <field name="search_view_id" ref="view_edu_schedule_line_filter"/>
        </record>
        
        <record id="action_active_student_program_seance" model="ir.actions.act_window">
            <field name="name">Seances By Program</field>
            <field name="res_model">edu.seance</field>
            <field name="view_mode">tree,form,calendar</field>
            <field name="context">
                { 'group_by': False, 'search_default_gr_period':1, 'search_default_gr_module':1
                }
            </field>
            <field name="domain">[('st_programs','=',active_id),('period.stage_id','=',stage_id)]</field>
            <field name="search_view_id" ref="view_edu_seance_filter"/>
        </record>
        
        <record id="view_edu_student_program_tree" model="ir.ui.view">
            <field name="name">edu.student.program.tree</field>
            <field name="model">edu.student.program</field>
            <field name="arch" type="xml">
                <tree string="Student Programs">
                    <field name="code"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="group_id"/>
                    <field name="plan_id"/>
                    <field name="status"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_student_program_form" model="ir.ui.view">
            <field name="name">edu.student.program.form</field>
            <field name="model">edu.student.program</field>
            <field name="arch" type="xml">
                <form string="Student Program" version="7.0">
                    <header>
                        <field name="stage_id" domain="[('fold','=',False),('programs','=',program)]"
                            widget="statusbar"/>
                    </header>
                    <sheet>
                        <field name="image_medium" widget='image' class="oe_left oe_avatar" options='{"preview_image":
                            "image_medium", "size": [90, 90]}'/>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_student_program_application)d" string="Applications"
                                type="action"/>
                            <button name="%(action_active_student_program_order)d" string="Orders" type="action"/>
                            <button name="%(action_active_student_program_schedule_line)d" string="Schedule Extract"
                                type="action" context="{'program':program,'stage_id':stage_id}"/>
                            <button name="%(action_active_student_program_seance)d" string="Seances" type="action"
                                context="{'program':program,'stage_id':stage_id}"/>
                            <button name="%(action_active_student_program_grade_line)d" string="Grade Extract"
                                type="action"/>
                            <button name="%(action_active_student_program_record_line)d" string="Records" type="action"/>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <label string="Student Program: "/>
                                <field name="code" class="oe_inline" readonly="1"/>
                            </h1>
                            <label for="student_id" class="oe_edit_only"/>
                            <h2>
                                <field name="student_id"/>
                            </h2>
                        </div>
                        <group>
                            <field name="name" invisible="1"/>
                            <field name="program" on_change="onchange_program(program)"/>
                            <field name="speciality"/>
                            <field name="mode_id"/>
                            <field name="group_id"/>
                            <field name="plan_id" domain="[('program','=',program)]"/>
                            <field name="status"/>
                            <field name="state" invisible="1"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_student_program_kanban" model="ir.ui.view">
            <field name="name">edu.student.program.kanban</field>
            <field name="model">edu.student.program</field>
            <field name="arch" type="xml">
                <kanban default_group_by="stage_id" edit="false" quick_create="false">
                    <field name="color"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="group_id"/>
                    <field name="status"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card
                                oe_kanban_global_click">
                                <div class="oe_dropdown_toggle oe_dropdown_kanban">
                                    <span class="oe_e"></span>
                                    <ul class="oe_dropdown_menu">
                                        <t t-if="widget.view.is_action_enabled('edit')">
                                            <li>
                                                <a type="edit">Edit...</a>
                                            </li>
                                        </t>
                                        <t t-if="widget.view.is_action_enabled('delete')">
                                            <li>
                                                <a type="delete">Delete</a>
                                            </li>
                                        </t>
                                        <li>
                                            <ul class="oe_kanban_colorpicker" data-field="color"/>
                                        </li>
                                    </ul>
                                </div>
                                <div class="oe_kanban_content">
                                    <div>
                                        <b>
                                            <field name="code"/>
                                            /
                                            <field name="stage_id"/>
                                        </b>
                                    </div>
                                    <div>
                                        <field name="student_id"/>
                                    </div>
                                    <div style="font-size: 10px; ">
                                        <field name="program"/>
                                    </div>
                                    <div class="oe_kanban_bottom_right">
                                        <img t-att-src="kanban_image('res.partner', 'image_small', record.student_id.raw_value)"
                                            t-att-title="record.student_id.value"
                                            width="24" height="24" class="oe_kanban_avatar"/>
                                    </div>
                                    <div class="oe_kanban_footer_left">
                                        <field name="group_id"/>
                                        <field name="status" groups="irsid_edu.group_edu_employee"/>
                                    </div>
                                </div>
                                <div class="oe_clear">
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        
        <record id="view_edu_student_program_filter" model="ir.ui.view">
            <field name="name">edu.student.program.filter</field>
            <field name="model">edu.student.program</field>
            <field name="arch" type="xml">
                <search string="Programs">
                    <field name="name"/>
                    <field name="student_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="group_id"/>
                    <field name="plan_id"/>
                    <field name="status"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Student" domain="[]" context="{'group_by' : 'student_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Speciality" domain="[]" context="{'group_by' : 'speciality'}"/>
                        <filter string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter string="Group" domain="[]" context="{'group_by' : 'group_id'}"/>
                        <filter string="Plan" domain="[]" context="{'group_by' : 'plan_id'}"/>
                        <filter string="Status" domain="[]" context="{'group_by' : 'status'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_student_program" model="ir.actions.act_window">
            <field name="name">Student Programs</field>
            <field name="res_model">edu.student.program</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('stage_id.state','in',['open'])]</field>
            <field name="search_view_id" ref="view_edu_student_program_filter"/>
        </record>
        
        <menuitem id="menu_edu_student_program" action = "action_edu_student_program" sequence="20"
            parent="menu_edu_training"/>
        
        <record id="action_edu_exstudent_program" model="ir.actions.act_window">
            <field name="name">Ex-student Programs</field>
            <field name="res_model">edu.student.program</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('stage_id.state','in',['done','pending','canceled'])]</field>
            <field name="search_view_id" ref="view_edu_student_program_filter"/>
        </record>
        
        <menuitem id="menu_edu_exstudent_program" action = "action_edu_exstudent_program"
            sequence="40" parent="menu_edu_training"/>
        
        <record id="action_edu_applicant_program" model="ir.actions.act_window">
            <field name="name">Applicant Programs</field>
            <field name="res_model">edu.student.program</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('stage_id.state','in',['draft','entrance'])]</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new applicant program.</p>
                <p>
                    Created record holds information about applicant program he wishes to study. If you
                    are going to enroll then just click "Create" to fill in information
                    about yourself, then go to "Applications->Enrollment" menu entry.
                    If you are representative (parent, employee) then you can create
                    several applicant programs. Please fill in all forms carefully!
                </p>
                <p>
                    When all applicant programs are entered, you can create an application for enrollment
                    on them using "Applications->Enrollment" menu entry. The social
                    feature helps you organize discussions on programs and allows
                    you to keep track of their current enrollment state.
                </p>
            </field>
            <field name="search_view_id" ref="view_edu_student_program_filter"/>
        </record>
        
        <menuitem id="menu_edu_applicant_program" action = "action_edu_applicant_program"
            sequence="20" parent="menu_edu_entrance"/>
        
        <!-- Views for Students -->
        
        <menuitem id="menu_edu_partner" action = "base.action_partner_form" sequence="10"
            parent="menu_edu_partners" groups="group_edu_employee"/>
        
        <record id="action_active_student_st_program" model="ir.actions.act_window">
            <field name="name">Programs By Student</field>
            <field name="res_model">edu.student.program</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('student_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_student_program_filter"/>
        </record>
        
        <record id="action_active_student_application" model="ir.actions.act_window">
            <field name="name">Applications By Student</field>
            <field name="res_model">edu.application</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('line_ids.student_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_application_filter"/>
        </record>
        
        <record id="action_active_student_order" model="ir.actions.act_window">
            <field name="name">Orders By Student</field>
            <field name="res_model">edu.order</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': False}</field>
            <field name="domain">[('line_ids.student_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_order_filter"/>
        </record>
        
        <record id="view_res_partner_irsid_inherit_form" model="ir.ui.view">
            <field name="name">res.partner.irsid.inherit.form</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="9999" />
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='customer']" position="after">
                    <field name="student"/>
                    <field name="employee"/>
                </xpath>
            </field>
        </record>
        
        <record id="view_edu_student_tree" model="ir.ui.view">
            <field name="name">edu.student.tree</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="9999" />
            <field name="arch" type="xml">
                <tree string="Students">
                    <field name="name"/>
                    <field name="phone"/>
                    <field name="email"/>
                    <field name="country_id"/>
                    <field name="parent_id"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_student_form" model="ir.ui.view">
            <field name="name">edu.student.form</field>
            <field name="model">res.partner</field>
            <field name="priority" eval="9999" />
            <field name="arch" type="xml">
                <form string="Partners" version="7.0">
                    <sheet>
                        <field name="image" widget='image' class="oe_left oe_avatar" options='{"preview_image":
                            "image_medium", "size": [90, 90]}'/>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_student_st_program)d" string="Programs" type="action"/>
                            <button name="%(action_active_student_application)d" string="Applications" type="action"/>
                            <button name="%(action_active_student_order)d" string="Orders" type="action"/>
                        </div>
                        <div class="oe_title">
                            <div class="oe_edit_only">
                                <label for="name"/>
                            </div>
                            <h1>
                                <field name="name" default_focus="1" placeholder="Full Name"/>
                            </h1>
                            <field name="parent_id" placeholder="Customer" on_change="onchange_address(use_parent_address,
                                parent_id)"/>
                            <field name="category_id" widget="many2many_tags" placeholder="Tags..."/>
                        </div>
                        <group>
                            <group>
                                <label for="street" string="Address"/>
                                <div>
                                    <field name="use_parent_address" class="oe_edit_only oe_inline" on_change="onchange_address(use_parent_address,
                                        parent_id)" attrs="{'invisible': [('parent_id','=',
                                        False),('use_parent_address','=',False)]}"/>
                                    <label for="use_parent_address" string="Use customer address" class="oe_edit_only"
                                        attrs="{'invisible': [('parent_id','=', False),('use_parent_address','=',False)]}"/>
                                    <button name="open_parent" type="object" string="(edit customer address)" class="oe_link
                                        oe_edit_only" attrs="{'invisible': ['|',('parent_id','=',
                                        False),('use_parent_address','=',False)]}"/>
                                    <field name="street" placeholder="Street..." attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <field name="street2"  attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    <div class="address_format">
                                        <field name="city" placeholder="City" style="width: 40%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="state_id" class="oe_no_button" placeholder="State" style="width: 37%%"
                                            options='{"no_open": True}' on_change="onchange_state(state_id)"
                                            attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                        <field name="zip" placeholder="ZIP" style="width: 20%%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                    </div>
                                    <field name="country_id" placeholder="Country" class="oe_no_button" options='{"no_open":
                                        True}' attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                                </div>
                                <field name="website" widget="url" placeholder="e.g. www.openerp.com"/>
                                <field name="birthdate" widget="date"/>
                            </group>
                            <group>
                                <field name="function" placeholder="e.g. Sales Director"/>
                                <field name="phone" placeholder="e.g. +32.81.81.37.00"/>
                                <field name="mobile"/>
                                <field name="fax"/>
                                <field name="email" widget="email"/>
                                <field name="title" domain="[('domain', '=', 'contact')]" options='{"no_open": True}'/>
                            </group>
                        </group>
                        <notebook colspan="4">
                            <page string="Internal Notes">
                                <field name="comment" placeholder="Put an internal note..."/>
                            </page>
                            <page string="Settings">
                                <group>
                                    <group>
                                        <field name="user_id"/>
                                        <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                                    </group>
                                    <group>
                                        <field name="customer"/>
                                        <field name="student"/>
                                    </group>
                                    <group>
                                        <field name="ref"/>
                                        <field name="lang"/>
                                        <field name="date"/>
                                    </group>
                                    <group>
                                        <field name="active"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_student_filter" model="ir.ui.view">
            <field name="name">edu.student.filter</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <search string="Search Student">
                    <field name="name"/>
                    <filter string="Applicant" name="applicant" domain="[('student','=',True),'|',('programs','=',False),('programs.stage_id.state','in',['draft'])]"/>
                    <separator/>
                    <group expand="0" string="Group By...">
                        <filter string="Customer" context="{'group_by': 'parent_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_student" model="ir.actions.act_window">
            <field name="name">Students</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('student','=',True),('programs.stage_id.state','in',['open'])]</field>
            <field name="context">{'default_student': 1}</field>
            <field name="search_view_id" ref="view_edu_student_filter"/>
        </record>
        
        <record id="action_edu_student_kanban" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_edu_student"/>
        </record>
        
        <record id="action_edu_student_tree" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_edu_student"/>
        </record>
        
        <record id="action_edu_student_form" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_edu_student_form"/>
            <field name="act_window_id" ref="action_edu_student"/>
        </record>
        
        <menuitem id="menu_edu_student" action = "action_edu_student" sequence="10" parent="menu_edu_training"/>
        
        <!-- Views for Ex-students -->
        
        <record id="action_edu_exstudent" model="ir.actions.act_window">
            <field name="name">Ex-students</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('student','=',True),('programs.stage_id.state','in',['done','pending','canceled'])]
            </field>
            <field name="context">{'default_student': 1}</field>
            <field name="search_view_id" ref="view_edu_student_filter"/>
        </record>
        
        <record id="action_edu_exstudent_kanban" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_edu_exstudent"/>
        </record>
        
        <record id="action_edu_exstudent_tree" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_edu_exstudent"/>
        </record>
        
        
        <record id="action_edu_exstudent_form" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_edu_student_form"/>
            <field name="act_window_id" ref="action_edu_exstudent"/>
        </record>
        
        <menuitem id="menu_edu_exstudent" action = "action_edu_exstudent" sequence="30" parent="menu_edu_training"/>
        
        <!-- Views for Applicants -->
        
        <record id="action_edu_applicant" model="ir.actions.act_window">
            <field name="name">Applicants</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">
                [('student','=',True),'|',('programs','=',False),('programs.stage_id.state','in',['draft','entrance'])]
            </field>
            <field name="context">{'default_student': 1}</field>
            <field name="search_view_id" ref="view_edu_student_filter"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to create new applicant.</p>
                <p>
                    Created record holds necessary information about applicant. If you are going to admit
                    then just click "Create" to fill in information about yourself,
                    then go to "Admission Applications" menu entry. If you are representative
                    (parent, employee) then you can create several applicants. You
                    need to attach copies of legal documents to each applicant. Please
                    fill in all forms carefully!
                </p>
                <p>
                    When all applicants are entered, you can create an application for admission on them
                    using "Admission Applications" menu entry. The social feature
                    helps you organize discussions on applicants and allows you to
                    keep track of their current admission state.
                </p>
            </field>
        </record>
        
        <record id="action_edu_applicant_kanban" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">kanban</field>
            <field name="view_id" ref="base.res_partner_kanban_view"/>
            <field name="act_window_id" ref="action_edu_applicant"/>
        </record>
        
        <record id="action_edu_applicant_tree" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="base.view_partner_tree"/>
            <field name="act_window_id" ref="action_edu_applicant"/>
        </record>
        
        
        <record id="action_edu_applicant_form" model="ir.actions.act_window.view">
            <field name="sequence"  eval="9999"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_edu_student_form"/>
            <field name="act_window_id" ref="action_edu_applicant"/>
        </record>
        
        <menuitem id="menu_edu_applicant" action = "action_edu_applicant" sequence="10" parent="menu_edu_entrance"/>
        
        <!-- View for Locations -->
        
        <record id="view_edu_location_tree" model="ir.ui.view">
            <field name="name">edu.location.tree</field>
            <field name="model">edu.location</field>
            <field name="arch" type="xml">
                <tree string="Locations" version="7.0" editable="bottom">
                    <field name="name" />
                    <field name="address_id"/>
                    <field name="parent_id"/>
                    <field name="seats"/>
                    <field name="area"/>
                    <field name="beamer"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_location" model="ir.actions.act_window">
            <field name="name">Locations</field>
            <field name="res_model">edu.location</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_location" action = "action_edu_location" sequence="5" parent="menu_edu_configuration_training"/>
        
        <!-- Views for Pricelist Lines -->
        
        <record id="view_edu_pricelist_line_tree" model="ir.ui.view">
            <field name="name">edu.pricelist.line.tree</field>
            <field name="model">edu.pricelist.line</field>
            <field name="arch" type="xml">
                <tree string="Pricelist Lines">
                    <field name="pricelist_id"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="stage_price"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_pricelist_line_form" model="ir.ui.view">
            <field name="name">edu.pricelist.line.form</field>
            <field name="model">edu.pricelist.line</field>
            <field name="arch" type="xml">
                <form string="Pricelist Line" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <group>
                            <field name="pricelist_id" domain="[('state','not in',['approved','done'])]" on_change="onchange_pricelist_id(pricelist_id)"/>
                            <field name="origin"/>
                            <field name="year_id"/>
                            <field name="pricelist_program" invisible="1"/>
                            <field name="pricelist_stage_id" invisible="1"/>
                            <field name="program" on_change="onchange_program(program)"/>
                            <field name="speciality"/>
                            <field name="mode_id"/>
                            <field name="stage_id" domain= "[('programs','=',program)]"/>
                            <field name="stage_price"/>
                        </group>
                        <notebook>
                            <page string="Note">
                                <field name="note"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_pricelist_line_filter" model="ir.ui.view">
            <field name="name">edu.pricelist.line.filter</field>
            <field name="model">edu.pricelist.line</field>
            <field name="arch" type="xml">
                <search string="Pricelist Lines">
                    <field name="pricelist_id"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="speciality"/>
                    <field name="mode_id"/>
                    <field name="stage_id"/>
                    <field name="state"/>
                    <filter string="Approved" name="approved" domain="[('state','=','approved')]"/>
                    <group expand="1" string="Group By...">
                        <filter name="gr_year_id" string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter name="gr_pricelist_id" string="Pricelist" domain="[]" context="{'group_by'
                            : 'pricelist_id'}"/>
                        <filter name="gr_speciality" string="Speciality" domain="[]" context="{'group_by'
                            : 'speciality'}"/>
                        <filter name="gr_mode_id" string="Mode" domain="[]" context="{'group_by' : 'mode_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_pricelist_line" model="ir.actions.act_window">
            <field name="name">Pricelist Lines</field>
            <field name="res_model">edu.pricelist.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">
                {'search_default_gr_year_id':1,'search_default_gr_speciality':1,'search_default_gr_mode_id':1,'search_default_approved':
                1}
            </field>
            <field name="search_view_id" ref="view_edu_pricelist_line_filter"/>
        </record>
        
        <menuitem id="menu_edu_pricelist_line" action = "action_edu_pricelist_line" sequence="80"
            parent="menu_edu_partners"/>
        
        <!-- Views for Pricelists -->
        
        <record id="action_active_pricelist_line" model="ir.actions.act_window">
            <field name="name">Lines By Pricelist</field>
            <field name="res_model">edu.pricelist.line</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_pricelist_id': active_id, 'group_by': False}</field>
            <field name="domain">[('pricelist_id','=',active_id)]</field>
            <field name="search_view_id" ref="view_edu_pricelist_line_filter"/>
        </record>
        
        <record id="view_edu_pricelist_tree" model="ir.ui.view">
            <field name="name">edu.pricelist.tree</field>
            <field name="model">edu.pricelist</field>
            <field name="arch" type="xml">
                <tree string="Pricelists" colors="grey:state=='canceled,approved';blue:state in ('confirmed','validated');red:state
                    in ('draft','rejected');green:state in ('done')">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="view_edu_pricelist_form" model="ir.ui.view">
            <field name="name">edu.pricelist.form</field>
            <field name="model">edu.pricelist</field>
            <field name="arch" type="xml">
                <form string="Pricelist" version="7.0">
                    <header>
                        <button name="set_confirmed" string="Confirm" type="object" states="draft" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_validated" string="Validate" type="object" states="confirmed" class="oe_highlight"
                            groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_approved" string="Approve" type="object" states="validated" class="oe_highlight"
                            groups="irsid_edu.group_edu_rector"/>
                        <button name="set_done" string="Done" type="object" states="approved" class="oe_highlight"
                            groups="irsid_edu.group_edu_manager"/>
                        <button name="set_canceled" string="Cancel" type="object" states="approved" groups="irsid_edu.group_edu_rector"/>
                        <button name="set_draft" string="Revise" type="object" states="confirmed" groups="irsid_edu.group_edu_prorector"/>
                        <button name="set_draft" string="Revise" type="object" states="validated,approved,done,canceled"
                            groups="irsid_edu.group_edu_rector"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,validated,approved"
                            readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_right oe_button_box" name="buttons">
                            <button name="%(action_active_pricelist_line)d" string="Pricelist Lines" type="action"/>
                        </div>
                        <h1>
                            <label string="Pricelist: "/>
                            <field name="code" class="oe_inline" readonly="1"/>
                            <label string=" On " class="oe_inline"/>
                            <field name="date" class="oe_inline"/>
                        </h1>
                        <label for="name" class="oe_edit_only"/>
                        <h2>
                            <field name="name"/>
                        </h2>
                        <group>
                            <group string="Summary">
                                <field name="year_id" on_change="onchange_year_id(year_id)"/>
                                <field name="program" on_change="onchange_program(program)"/>
                                <field name="stage_id" domain= "program and [('programs','=',program)] or
                                    []"/>
                            </group>
                            <group string="Period of Validity">
                                <field name="date_start"/>
                                <field name="date_stop"/>
                            </group>
                        </group>
                        <field name="line_ids" readonly="1">
                            <tree string="Pricelist Lines">
                                <field name="pricelist_program" invisible="1"/>
                                <field name="pricelist_stage_id" invisible="1"/>
                                <field name="program"/>
                                <field name="speciality"/>
                                <field name="mode_id"/>
                                <field name="stage_id"/>
                                <field name="stage_price"/>
                                <field name="note"/>
                                <field name="state"/>
                            </tree>
                        </field>
                        <group>
                            <field name="user_approved"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        
        <record id="view_edu_pricelist_filter" model="ir.ui.view">
            <field name="name">edu.pricelist.filter</field>
            <field name="model">edu.pricelist</field>
            <field name="arch" type="xml">
                <search string="Pricelists">
                    <field name="code"/>
                    <field name="date"/>
                    <field name="name"/>
                    <field name="year_id"/>
                    <field name="program"/>
                    <field name="stage_id"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="state"/>
                    <group expand="1" string="Group By...">
                        <filter string="Year" domain="[]" context="{'group_by' : 'year_id'}"/>
                        <filter string="Program" domain="[]" context="{'group_by' : 'program'}"/>
                        <filter string="Stage" domain="[]" context="{'group_by' : 'stage_id'}"/>
                        <filter name="gr_state" string="State" domain="[]" context="{'group_by' : 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="action_edu_pricelist" model="ir.actions.act_window">
            <field name="name">Training Pricelists</field>
            <field name="res_model">edu.pricelist</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_gr_state':1}</field>
            <field name="search_view_id" ref="view_edu_pricelist_filter"/>
        </record>
        
        <menuitem id="menu_edu_pricelist" action = "action_edu_pricelist" sequence="70" parent="menu_edu_partners"/>
        
        <!-- Views for Journals -->
        
        <record id="view_edu_journal_tree" model="ir.ui.view">
            <field name="name">edu.journal.tree</field>
            <field name="model">edu.journal</field>
            <field name="arch" type="xml">
                <tree string="Journals" version="7.0" editable="bottom">
                    <field name="name"/>
                    <field name="journaltype"/>
                    <field name="recordtype"/>
                    <field name="scale"/>
                </tree>
            </field>
        </record>
        
        <record id="action_edu_journal" model="ir.actions.act_window">
            <field name="name">Journals</field>
            <field name="res_model">edu.journal</field>
            <field name="view_mode">tree</field>
        </record>
        
        <menuitem id="menu_edu_journal" action = "action_edu_journal" sequence="40" parent="menu_edu_configuration_grade"/>
        
        <!-- Server Actions -->
        
        <record id="action_server_applications_to_orders" model="ir.actions.server">
            <field name="name">Applications To Orders</field>
            <field name="condition">True</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_edu_application"/>
            <field name="state">code</field>
            <field name="code">self.make_orders(cr, uid, context.get('active_ids', []), context=context)</field>
        </record>
        
        <record id="action_applications_to_orders" model="ir.values">
            <field name="name">Applications To Orders</field>
            <field name="action_id" ref="action_server_applications_to_orders"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_server_applications_to_orders'))"
                />
            <field name="key">action</field>
            <field name="model_id" ref="model_edu_application" />
            <field name="model">edu.application</field>
            <field name="key2">client_action_multi</field>
        </record>
        
        <record id="action_server_orders_to_work_orders" model="ir.actions.server">
            <field name="name">Orders To Work Orders</field>
            <field name="condition">True</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_edu_order"/>
            <field name="state">code</field>
            <field name="code">self.make_work_orders(cr, uid, context.get('active_ids', []), context=context)</field>
        </record>
        
        <record id="action_orders_to_work_orders" model="ir.values">
            <field name="name">Orders To Work Orders</field>
            <field name="action_id" ref="action_server_orders_to_work_orders"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_server_orders_to_work_orders'))"
                />
            <field name="key">action</field>
            <field name="model_id" ref="model_edu_order" />
            <field name="model">edu.order</field>
            <field name="key2">client_action_multi</field>
        </record>
        
        <record id="action_server_st_programs_to_work_orders" model="ir.actions.server">
            <field name="name">Student Programs To Work Orders</field>
            <field name="condition">True</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_edu_student_program"/>
            <field name="state">code</field>
            <field name="code">self.make_work_orders(cr, uid, context.get('active_ids', []), context=context)</field>
        </record>
        
        <record id="action_st_programs_to_work_orders" model="ir.values">
            <field name="name">Student Programs To Work Orders</field>
            <field name="action_id" ref="action_server_st_programs_to_work_orders"/>
            <field name="value" eval="'ir.actions.server,' + str(ref('action_server_st_programs_to_work_orders'))"
                />
            <field name="key">action</field>
            <field name="model_id" ref="model_edu_student_program" />
            <field name="model">edu.student.program</field>
            <field name="key2">client_action_multi</field>
        </record>
        <!-- Module hierarchy -->
        <record id="view_edu_module_tree2" model="ir.ui.view">
            <field name="name">edu.module.tree</field>
            <field name="model">edu.module</field>
            <field name="field_parent">child_ids</field>
            <field eval="20" name="priority"/>
            <field name="arch" type="xml">
                <tree string="Modules">
                    <field name="code"/>
                    <field name="name"/>
                    <field name="program"/>
                    <field name="section"/>
                    <field name="subsection"/>
                    <field name="employee"/>
                    <field name="location_id" invisible="1"/>
                    <field name="credits" sum="Credits"/>
                    <field name="st_hours" sum="Student Hours"/>
                    <field name="seance_hours" sum="Seance Hours"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <record id="action_module_hierarchy" model="ir.actions.act_window">
            <field name="name">Module Hierarchy</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">edu.module</field>
            <field name="domain">[('id','in',active_ids)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_edu_module_tree2"/>
        </record>
        
        <record id="action_menu_module_hierarchy" model="ir.values">
            <field name="name">Module Hierarchy</field>
            <field name="action_id" ref="action_module_hierarchy"/>
            <field name="value" eval="'ir.actions.act_window,'+str(ref('action_module_hierarchy'))"/>
            <field name="key">action</field>
            <field name="model_id" ref="model_edu_module" />
            <field name="model">edu.module</field>
            <field name="key2">client_action_multi</field>
        </record>
        
    </data>
</openerp>
